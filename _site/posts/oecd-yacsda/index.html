<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-05-08">

<title>datenwerk - oecd-yacsda</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">datenwerk</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Ans Werk, Daten!</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Hinweise.html"> 
<span class="menu-text">Hinweise</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/sebastiansauer/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#grundlagen" id="toc-grundlagen" class="nav-link active" data-scroll-target="#grundlagen"><span class="header-section-number">1</span> Grundlagen</a>
  <ul class="collapse">
  <li><a href="#hintergrund" id="toc-hintergrund" class="nav-link" data-scroll-target="#hintergrund"><span class="header-section-number">1.1</span> Hintergrund</a></li>
  <li><a href="#benötigte-pakete" id="toc-benötigte-pakete" class="nav-link" data-scroll-target="#benötigte-pakete"><span class="header-section-number">1.2</span> Benötigte Pakete</a></li>
  <li><a href="#datensatz-laden" id="toc-datensatz-laden" class="nav-link" data-scroll-target="#datensatz-laden"><span class="header-section-number">1.3</span> Datensatz laden</a></li>
  <li><a href="#erster-blick" id="toc-erster-blick" class="nav-link" data-scroll-target="#erster-blick"><span class="header-section-number">1.4</span> Erster Blick</a></li>
  <li><a href="#deskriptive-statistiken-zu-den-metrischen-variablen-einzeln-univariat" id="toc-deskriptive-statistiken-zu-den-metrischen-variablen-einzeln-univariat" class="nav-link" data-scroll-target="#deskriptive-statistiken-zu-den-metrischen-variablen-einzeln-univariat"><span class="header-section-number">1.5</span> Deskriptive Statistiken zu den metrischen Variablen, einzeln (univariat)</a>
  <ul class="collapse">
  <li><a href="#mit-ggpubr" id="toc-mit-ggpubr" class="nav-link" data-scroll-target="#mit-ggpubr"><span class="header-section-number">1.5.1</span> Mit ggpubr</a></li>
  <li><a href="#mit-dataexplorer" id="toc-mit-dataexplorer" class="nav-link" data-scroll-target="#mit-dataexplorer"><span class="header-section-number">1.5.2</span> Mit DataExplorer</a></li>
  <li><a href="#mit-ggplot" id="toc-mit-ggplot" class="nav-link" data-scroll-target="#mit-ggplot"><span class="header-section-number">1.5.3</span> Mit ggplot</a></li>
  </ul></li>
  <li><a href="#histogramm-nach-gruppen-lebenszufriedenheit-in-de-und-fr" id="toc-histogramm-nach-gruppen-lebenszufriedenheit-in-de-und-fr" class="nav-link" data-scroll-target="#histogramm-nach-gruppen-lebenszufriedenheit-in-de-und-fr"><span class="header-section-number">1.6</span> Histogramm nach Gruppen: Lebenszufriedenheit in De und Fr</a>
  <ul class="collapse">
  <li><a href="#mit-ggpubr-1" id="toc-mit-ggpubr-1" class="nav-link" data-scroll-target="#mit-ggpubr-1"><span class="header-section-number">1.6.1</span> Mit ggpubr</a></li>
  <li><a href="#mit-dataexplorer-1" id="toc-mit-dataexplorer-1" class="nav-link" data-scroll-target="#mit-dataexplorer-1"><span class="header-section-number">1.6.2</span> Mit DataExplorer</a></li>
  <li><a href="#mit-ggplot-1" id="toc-mit-ggplot-1" class="nav-link" data-scroll-target="#mit-ggplot-1"><span class="header-section-number">1.6.3</span> Mit ggplot</a></li>
  </ul></li>
  <li><a href="#histogramm-für-alle-metrischen-variablen-auf-einmal" id="toc-histogramm-für-alle-metrischen-variablen-auf-einmal" class="nav-link" data-scroll-target="#histogramm-für-alle-metrischen-variablen-auf-einmal"><span class="header-section-number">1.7</span> Histogramm für alle metrischen Variablen auf einmal</a></li>
  <li><a href="#vertiefung-histogramm-für-alle-variablen-auf-kompliziert" id="toc-vertiefung-histogramm-für-alle-variablen-auf-kompliziert" class="nav-link" data-scroll-target="#vertiefung-histogramm-für-alle-variablen-auf-kompliziert"><span class="header-section-number">1.8</span> VERTIEFUNG: Histogramm für alle Variablen auf kompliziert</a></li>
  </ul></li>
  <li><a href="#forschungsfrage-lebenszufriedenheit-in-de-im-internationalen-vergleich" id="toc-forschungsfrage-lebenszufriedenheit-in-de-im-internationalen-vergleich" class="nav-link" data-scroll-target="#forschungsfrage-lebenszufriedenheit-in-de-im-internationalen-vergleich"><span class="header-section-number">2</span> Forschungsfrage: Lebenszufriedenheit in De im internationalen Vergleich</a>
  <ul class="collapse">
  <li><a href="#hintergrund-1" id="toc-hintergrund-1" class="nav-link" data-scroll-target="#hintergrund-1"><span class="header-section-number">2.1</span> Hintergrund</a>
  <ul class="collapse">
  <li><a href="#datensatz-filtern---nur-länder-keine-landesteile" id="toc-datensatz-filtern---nur-länder-keine-landesteile" class="nav-link" data-scroll-target="#datensatz-filtern---nur-länder-keine-landesteile"><span class="header-section-number">2.1.1</span> Datensatz filtern - nur Länder, keine Landesteile</a></li>
  <li><a href="#visualisierung-der-lebenszufriedenheit-der-länder" id="toc-visualisierung-der-lebenszufriedenheit-der-länder" class="nav-link" data-scroll-target="#visualisierung-der-lebenszufriedenheit-der-länder"><span class="header-section-number">2.1.2</span> Visualisierung der Lebenszufriedenheit der Länder</a></li>
  <li><a href="#umwandling-in-eine-faktor-variable" id="toc-umwandling-in-eine-faktor-variable" class="nav-link" data-scroll-target="#umwandling-in-eine-faktor-variable"><span class="header-section-number">2.1.3</span> Umwandling in eine Faktor-Variable</a></li>
  </ul></li>
  <li><a href="#ranking-und-top-10-prozent-der-zufriedenheit" id="toc-ranking-und-top-10-prozent-der-zufriedenheit" class="nav-link" data-scroll-target="#ranking-und-top-10-prozent-der-zufriedenheit"><span class="header-section-number">2.2</span> Ranking und Top-10-Prozent der Zufriedenheit</a>
  <ul class="collapse">
  <li><a href="#top-10" id="toc-top-10" class="nav-link" data-scroll-target="#top-10"><span class="header-section-number">2.2.1</span> Top-10</a></li>
  <li><a href="#die-oberen-10-der-zufriedenheit" id="toc-die-oberen-10-der-zufriedenheit" class="nav-link" data-scroll-target="#die-oberen-10-der-zufriedenheit"><span class="header-section-number">2.2.2</span> Die oberen 10% der Zufriedenheit</a></li>
  </ul></li>
  <li><a href="#vertiefung" id="toc-vertiefung" class="nav-link" data-scroll-target="#vertiefung"><span class="header-section-number">2.3</span> Vertiefung</a>
  <ul class="collapse">
  <li><a href="#mit-dataexplorer-3" id="toc-mit-dataexplorer-3" class="nav-link" data-scroll-target="#mit-dataexplorer-3"><span class="header-section-number">2.3.1</span> Mit DataExplorer</a></li>
  <li><a href="#mit-ggpubr-2" id="toc-mit-ggpubr-2" class="nav-link" data-scroll-target="#mit-ggpubr-2"><span class="header-section-number">2.3.2</span> Mit ggpubr</a></li>
  <li><a href="#mit-ggplot-3" id="toc-mit-ggplot-3" class="nav-link" data-scroll-target="#mit-ggplot-3"><span class="header-section-number">2.3.3</span> Mit ggplot</a></li>
  <li><a href="#achsenu-um-90-grad-drehen" id="toc-achsenu-um-90-grad-drehen" class="nav-link" data-scroll-target="#achsenu-um-90-grad-drehen"><span class="header-section-number">2.3.4</span> Achsenu um 90 Grad drehen</a></li>
  <li><a href="#mittelwert-ins-diagramm" id="toc-mittelwert-ins-diagramm" class="nav-link" data-scroll-target="#mittelwert-ins-diagramm"><span class="header-section-number">2.3.5</span> Mittelwert ins Diagramm</a></li>
  </ul></li>
  <li><a href="#zusammenhang-zweier-metrischer-variablen-punktediagramm" id="toc-zusammenhang-zweier-metrischer-variablen-punktediagramm" class="nav-link" data-scroll-target="#zusammenhang-zweier-metrischer-variablen-punktediagramm"><span class="header-section-number">2.4</span> Zusammenhang zweier metrischer Variablen – Punktediagramm</a>
  <ul class="collapse">
  <li><a href="#mit-ggpubr-3" id="toc-mit-ggpubr-3" class="nav-link" data-scroll-target="#mit-ggpubr-3"><span class="header-section-number">2.4.1</span> Mit ggpubr</a></li>
  <li><a href="#mit-dataexplorer-4" id="toc-mit-dataexplorer-4" class="nav-link" data-scroll-target="#mit-dataexplorer-4"><span class="header-section-number">2.4.2</span> Mit DataExplorer</a></li>
  <li><a href="#mit-ggplot-4" id="toc-mit-ggplot-4" class="nav-link" data-scroll-target="#mit-ggplot-4"><span class="header-section-number">2.4.3</span> Mit ggplot</a></li>
  <li><a href="#insgesamt-wenig-zusammenhang" id="toc-insgesamt-wenig-zusammenhang" class="nav-link" data-scroll-target="#insgesamt-wenig-zusammenhang"><span class="header-section-number">2.4.4</span> Insgesamt wenig Zusammenhang</a></li>
  <li><a href="#und-so-weiter" id="toc-und-so-weiter" class="nav-link" data-scroll-target="#und-so-weiter"><span class="header-section-number">2.4.5</span> Und so weiter</a></li>
  <li><a href="#korrelationsdiagramm" id="toc-korrelationsdiagramm" class="nav-link" data-scroll-target="#korrelationsdiagramm"><span class="header-section-number">2.4.6</span> Korrelationsdiagramm</a></li>
  </ul></li>
  <li><a href="#zusammenhang-zweier-variablen-unter-berücksichtigung-von-drittvariablen" id="toc-zusammenhang-zweier-variablen-unter-berücksichtigung-von-drittvariablen" class="nav-link" data-scroll-target="#zusammenhang-zweier-variablen-unter-berücksichtigung-von-drittvariablen"><span class="header-section-number">2.5</span> Zusammenhang zweier Variablen unter Berücksichtigung von Drittvariablen</a>
  <ul class="collapse">
  <li><a href="#visualisierung" id="toc-visualisierung" class="nav-link" data-scroll-target="#visualisierung"><span class="header-section-number">2.5.1</span> Visualisierung</a></li>
  <li><a href="#vertiefung-korrelation-pro-gruppe" id="toc-vertiefung-korrelation-pro-gruppe" class="nav-link" data-scroll-target="#vertiefung-korrelation-pro-gruppe"><span class="header-section-number">2.5.2</span> Vertiefung: Korrelation pro Gruppe</a></li>
  </ul></li>
  <li><a href="#deskriptive-statistiken-nach-ländern" id="toc-deskriptive-statistiken-nach-ländern" class="nav-link" data-scroll-target="#deskriptive-statistiken-nach-ländern"><span class="header-section-number">2.6</span> Deskriptive Statistiken nach Ländern</a>
  <ul class="collapse">
  <li><a href="#lebenszufriedenheit" id="toc-lebenszufriedenheit" class="nav-link" data-scroll-target="#lebenszufriedenheit"><span class="header-section-number">2.6.1</span> Lebenszufriedenheit</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#reproducibility" id="toc-reproducibility" class="nav-link" data-scroll-target="#reproducibility"><span class="header-section-number">3</span> Reproducibility</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">oecd-yacsda</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">eda</div>
    <div class="quarto-category">datawrangling</div>
    <div class="quarto-category">vis</div>
    <div class="quarto-category">yacsda</div>
    <div class="quarto-category">r</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 8, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong>Fallstudie: Explorative Datenanalyse zum Datensatz “OECD Wellbeing”</strong></p>
<p>(YACSDA: Yet another Case Study on Data Analysis)</p>
<section id="grundlagen" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Grundlagen</h1>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn Sie nicht mehr weiter wissen, googeln Sie nach dem Problem. Oder fragen Sie einen ChatBot, z.b. ChatGPT. <span class="math inline">\(\square\)</span></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Im Folgenden werden mitunter mehrere Lösungswege präsentiert. Sie können sich den Weg aussuchen, der Ihnen am besten gefällt. Sie müssen <em>nicht</em> alle Wege verstehen oder gar beherrschen. Einer reicht. <span class="math inline">\(\square\)</span></p>
</div>
</div>
<section id="hintergrund" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="hintergrund"><span class="header-section-number">1.1</span> Hintergrund</h2>
<p>In diesem Post untersuchen wir einige Aspekte der explorativen Datenanalyse für den Datensatz <code>oecd wellbeing</code> aus dem Jahr 2016.</p>
<p><em>Hinweis</em>: Als <em>Vertiefung</em> gekennzeichnete Abschnitt sind <em>nicht</em> prüfungsrelevant.</p>
</section>
<section id="benötigte-pakete" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="benötigte-pakete"><span class="header-section-number">1.2</span> Benötigte Pakete</h2>
<p>Ein Standard-Paket zur grundlegenden Datenanalyse bzw. des Datenjudos ist <code>tidyverse</code>. Darüber hinaus verwenden wir noch zwei Pakete zur Visualisierung und eines für den Komfort.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># Datenjudo</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)  <span class="co"># Komfort </span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DataExplorer)  <span class="co"># Data vis</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)  <span class="co"># Data vis</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="datensatz-laden" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="datensatz-laden"><span class="header-section-number">1.3</span> Datensatz laden</h2>
<p>Der Datensatz kann <a href="https://stats.oecd.org/Index.aspx?DataSetCode=RWB">hier</a> bezogen werden.</p>
<p>Doi: https://doi.org/10.1787/data-00707-en.</p>
<p>Falls der Datensatz lokal (auf Ihrem Rechner) vorliegt, können Sie ihn in gewohnter Manier importieren. Geben Sie dazu den Pfad zum Datensatz ein; bei mir sieht das so aus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>oecd <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"/Users/sebastiansaueruser/datasets/oecd_wellbeing.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Liegt die Datendatei im <em>gleichen Verzeichnis</em> wie Ihre R-/Quarto-/Rmd-Datei, dann brauchen Sie <em>nur</em> den Dateinamen, <em>nicht</em> den Pfad, anzugeben.</p>
<p><em>Alternativ</em> können Sie die Daten direkt von einem Server beziehen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>oecd <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/sebastiansauer/2021-sose/master/data/OECD/oecd-wellbeing.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="erster-blick" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="erster-blick"><span class="header-section-number">1.4</span> Erster Blick</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(oecd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 429
Columns: 15
$ Country                  &lt;chr&gt; "Australia", "Australia", "Australia", "Austr…
$ Region                   &lt;chr&gt; "New South Wales", "Victoria", "Queensland", …
$ region_type              &lt;chr&gt; "country_part", "country_part", "country_part…
$ Code                     &lt;chr&gt; "AU1", "AU2", "AU3", "AU4", "AU5", "AU6", "AU…
$ Education                &lt;dbl&gt; 8.0, 8.1, 7.8, 7.3, 7.6, 6.5, 8.1, 9.5, 8.8, …
$ Jobs                     &lt;dbl&gt; 8.1, 7.9, 8.1, 7.8, 8.8, 7.6, 8.7, 9.3, 7.8, …
$ Income                   &lt;dbl&gt; 6.8, 5.9, 6.3, 6.1, 7.9, 5.4, 8.2, 10.0, 5.7,…
$ Safety                   &lt;dbl&gt; 8.8, 9.5, 9.5, 9.0, 8.6, 8.8, 0.0, 10.0, 9.7,…
$ Health                   &lt;dbl&gt; 9.0, 9.5, 8.3, 8.5, 9.3, 5.4, 2.4, 9.3, 6.7, …
$ Environment              &lt;dbl&gt; 9.8, 8.6, 9.9, 9.4, 9.6, 10.0, 9.2, 9.1, 3.5,…
$ Civic_engagement         &lt;dbl&gt; 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.4, 10.0…
$ Accessiblity_to_services &lt;dbl&gt; 7.2, 7.5, 7.7, 7.2, 7.8, 6.8, 7.8, 8.7, 8.0, …
$ Housing                  &lt;dbl&gt; 7.2, 7.8, 8.3, 8.3, 8.9, 8.3, 5.6, 8.3, 6.1, …
$ Community                &lt;dbl&gt; 8.9, 9.3, 8.6, 8.6, 8.5, 8.6, 10.0, 9.8, 8.3,…
$ Life_satisfaction        &lt;dbl&gt; 7.8, 8.5, 8.1, 8.5, 7.8, 9.6, 7.0, 9.6, 7.8, …</code></pre>
</div>
</div>
<p>Wie <code>glimpse()</code> aufzeigt, liegen also einige qualitative (kategoriale, <code>chr</code>, vom Typ “Text”) und einige quantitative (metrische, <code>dbl</code>) Variablen vor. Die qualitativen Variablen sind für eine direkte Analyse weniger interessant; vielmehr ist es interessant, die Statistiken auf die <em>Gruppen</em> (Stufen, Level) der qualitativen Variablen aufzusplitten.</p>
<p>Betrachten wir aber zu Beginn die metrischen Variablen einzeln (univariat).</p>
</section>
<section id="deskriptive-statistiken-zu-den-metrischen-variablen-einzeln-univariat" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="deskriptive-statistiken-zu-den-metrischen-variablen-einzeln-univariat"><span class="header-section-number">1.5</span> Deskriptive Statistiken zu den metrischen Variablen, einzeln (univariat)</h2>
<p>Zentrale Statistiken zu den metrischen Variablen lassen sich auf mehreren Wegen mit R berechnen. Hier ist ein Weg:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">describe_distribution</span>(oecd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 31%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 4%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
<th style="text-align: right;">IQR</th>
<th style="text-align: right;">Min</th>
<th style="text-align: right;">Max</th>
<th style="text-align: right;">Skewness</th>
<th style="text-align: right;">Kurtosis</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">n_Missing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Education</td>
<td style="text-align: right;">6.81</td>
<td style="text-align: right;">2.97</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-1.08</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">426</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jobs</td>
<td style="text-align: right;">6.45</td>
<td style="text-align: right;">2.41</td>
<td style="text-align: right;">2.90</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-0.96</td>
<td style="text-align: right;">0.48</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Income</td>
<td style="text-align: right;">4.11</td>
<td style="text-align: right;">2.70</td>
<td style="text-align: right;">3.40</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.44</td>
<td style="text-align: right;">-0.38</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Safety</td>
<td style="text-align: right;">7.05</td>
<td style="text-align: right;">3.23</td>
<td style="text-align: right;">3.80</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-1.18</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Health</td>
<td style="text-align: right;">5.73</td>
<td style="text-align: right;">2.93</td>
<td style="text-align: right;">5.20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-0.33</td>
<td style="text-align: right;">-1.15</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Environment</td>
<td style="text-align: right;">5.40</td>
<td style="text-align: right;">2.73</td>
<td style="text-align: right;">4.35</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-0.11</td>
<td style="text-align: right;">-0.89</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Civic_engagement</td>
<td style="text-align: right;">5.05</td>
<td style="text-align: right;">2.85</td>
<td style="text-align: right;">4.10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-0.03</td>
<td style="text-align: right;">-0.91</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Accessiblity_to_services</td>
<td style="text-align: right;">6.53</td>
<td style="text-align: right;">2.65</td>
<td style="text-align: right;">2.60</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-1.13</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">429</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Housing</td>
<td style="text-align: right;">4.80</td>
<td style="text-align: right;">3.02</td>
<td style="text-align: right;">5.50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-0.06</td>
<td style="text-align: right;">-1.12</td>
<td style="text-align: right;">427</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Community</td>
<td style="text-align: right;">6.88</td>
<td style="text-align: right;">2.75</td>
<td style="text-align: right;">3.25</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-1.13</td>
<td style="text-align: right;">0.32</td>
<td style="text-align: right;">425</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Life_satisfaction</td>
<td style="text-align: right;">5.80</td>
<td style="text-align: right;">2.90</td>
<td style="text-align: right;">4.90</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">-0.47</td>
<td style="text-align: right;">-0.87</td>
<td style="text-align: right;">425</td>
<td style="text-align: right;">4</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Jetzt gehen wir weiter zur Visualisierung der Verteilung der metrischen Variablen. Auch hier gibt es wieder viele Lösungen.</p>
<p>Es reicht, wenn Sie mit <em>einer</em> Lösung vertraut sind.</p>
<section id="mit-ggpubr" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="mit-ggpubr"><span class="header-section-number">1.5.1</span> Mit ggpubr</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gghistogram</span>(<span class="at">x =</span> <span class="st">"Life_satisfaction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-dataexplorer" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="mit-dataexplorer"><span class="header-section-number">1.5.2</span> Mit DataExplorer</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Life_satisfaction) <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-ggplot" class="level3" data-number="1.5.3">
<h3 data-number="1.5.3" class="anchored" data-anchor-id="mit-ggplot"><span class="header-section-number">1.5.3</span> Mit ggplot</h3>
<p>Das R-Paket <code>ggplot</code> wird durch das “Meta-Paket” <code>tidyverse</code> gestartet. Sie müssen es also nicht extra starten.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Eine ähnliche Aussage liefert das Dichte-Diagramm:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Die <em>Dichte</em> gibt an, welcher Anteil der Beobachtungen an der jeweiligen Stelle der X-Achse lägen, wenn man eine Einheit betrachtet (z.B. die Lebenszufriedenheit von 5-6).</p>
</section>
</section>
<section id="histogramm-nach-gruppen-lebenszufriedenheit-in-de-und-fr" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="histogramm-nach-gruppen-lebenszufriedenheit-in-de-und-fr"><span class="header-section-number">1.6</span> Histogramm nach Gruppen: Lebenszufriedenheit in De und Fr</h2>
<p>Angenommen, man möchte Deutschland mit Frankreich vergleichen im Hinblick auf die Lebenszufriedenheit.</p>
<p>Zunächst filtern wir den OECD-Datensatz, so dass nur die beiden genannten Länder enthalten bleiben:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="ot">&lt;-</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">==</span> <span class="st">"Germany"</span> <span class="sc">|</span> Country <span class="sc">==</span> <span class="st">"France"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dann visualisieren wir wieder.</p>
<section id="mit-ggpubr-1" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="mit-ggpubr-1"><span class="header-section-number">1.6.1</span> Mit ggpubr</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gghistogram</span>(<span class="at">x =</span> <span class="st">"Life_satisfaction"</span>, <span class="at">facet.by =</span> <span class="st">"Country"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-dataexplorer-1" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="mit-dataexplorer-1"><span class="header-section-number">1.6.2</span> Mit DataExplorer</h3>
<p>Leider unterstützt DataExplorer nicht direkt den Vergleich von Grupen mit einem Histogramm. Man könnte aber einen Boxplot verwenden stattdessen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Life_satisfaction, Country) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_boxplot</span>(<span class="at">by =</span> <span class="st">"Country"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-ggplot-1" class="level3" data-number="1.6.3">
<h3 data-number="1.6.3" class="anchored" data-anchor-id="mit-ggplot-1"><span class="header-section-number">1.6.3</span> Mit ggplot</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="histogramm-für-alle-metrischen-variablen-auf-einmal" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="histogramm-für-alle-metrischen-variablen-auf-einmal"><span class="header-section-number">1.7</span> Histogramm für alle metrischen Variablen auf einmal</h2>
<p>Um einen Überblick über die Verteilungen zu bekommen, bietet es sich an, sich alle Verteilungen anzuschauen. Malen wir einmal alle Histogramme auf einmal. Das geht wiederum mit <code>DataExplorer</code> sehr einfach:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="vertiefung-histogramm-für-alle-variablen-auf-kompliziert" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="vertiefung-histogramm-für-alle-variablen-auf-kompliziert"><span class="header-section-number">1.8</span> VERTIEFUNG: Histogramm für alle Variablen auf kompliziert</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Dieser Abschnitt ist eine Vertiefung; Sie können in überspringen, ohne den Anschluss zu den folgenden Abschnitten zu verlieren. <span class="math inline">\(\square\)</span></p>
</div>
</div>
<p>Als erstes erzeugen wir einen langen Dataframe (der nur aus metrischen Variablen besteht):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># wähle alle Spalten aus, wo sich Nummern finden</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>()) <span class="sc">%&gt;%</span>  <span class="co"># baue alle Variablen in ein langes Format um</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="co"># zeige die Zeilen 1 bis 10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   name                     value
   &lt;chr&gt;                    &lt;dbl&gt;
 1 Education                  7.8
 2 Jobs                       6  
 3 Income                     6.3
 4 Safety                     8.6
 5 Health                    10  
 6 Environment                3.5
 7 Civic_engagement           7.4
 8 Accessiblity_to_services   8.6
 9 Housing                    3.3
10 Community                  7.9</code></pre>
</div>
</div>
<p>Dann plotten wir Histogramme, wobei wir nach den Ländern (<code>key</code>) gruppieren. Aber zuerst speichern wir uns den “langen” Datensatz ab:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>oecd_de_fr_long <span class="ot">&lt;-</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># wähle alle Spalten aus, wo sich Nummern finden</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>()) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Betrachten Sie diesen Daten einmal zur Übung.</p>
<p>Dann plotten wir in gewohnter Manier:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>oecd_de_fr_long <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="forschungsfrage-lebenszufriedenheit-in-de-im-internationalen-vergleich" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Forschungsfrage: Lebenszufriedenheit in De im internationalen Vergleich</h1>
<section id="hintergrund-1" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="hintergrund-1"><span class="header-section-number">2.1</span> Hintergrund</h2>
<p>Hat Deutschland in Vergleich zu anderen Ländern eine hohe Lebenszufriedenheit?</p>
<p>Die Frage ist noch recht unpräzise formuliert, aber dafür gibt sie Raum für eine Menge von Untersuchungsansätzen.</p>
<section id="datensatz-filtern---nur-länder-keine-landesteile" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="datensatz-filtern---nur-länder-keine-landesteile"><span class="header-section-number">2.1.1</span> Datensatz filtern - nur Länder, keine Landesteile</h3>
<p>Der Datensatz in seiner aktuellen Form verstößt gegen die Regel der “Normalform”, dass in jeder Zeile (genau) eine Beobachtungseinheit steht und in jeder Zeile (genau) eine Variable. In einigen Zeilen stehen <em>Länder</em>, in den meisten anderen aber <em>Landesteile</em> (wie Bayern, Baden-Württemberg etc.). Filtern wir uns nur die Länder, und exkdluieren die Landesteile:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="ot">&lt;-</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(oecd, region_type <span class="sc">==</span> <span class="st">"country_whole"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Die Anzahl der Zeilen dieses Datensatz <code>oecd_short</code> gibt uns Aufschluss über die Anzahl der untersuchten Länder.</p>
</section>
<section id="visualisierung-der-lebenszufriedenheit-der-länder" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="visualisierung-der-lebenszufriedenheit-der-länder"><span class="header-section-number">2.1.2</span> Visualisierung der Lebenszufriedenheit der Länder</h3>
<section id="mit-dataexplorer-2" class="level4" data-number="2.1.2.1">
<h4 data-number="2.1.2.1" class="anchored" data-anchor-id="mit-dataexplorer-2"><span class="header-section-number">2.1.2.1</span> Mit DataExplorer</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country, Life_satisfaction) <span class="sc">|&gt;</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"Life_satisfaction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-ggplot-2" class="level4" data-number="2.1.2.2">
<h4 data-number="2.1.2.2" class="anchored" data-anchor-id="mit-ggplot-2"><span class="header-section-number">2.1.2.2</span> Mit ggplot</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sieht-nicht-so-schön-aus" class="level4" data-number="2.1.2.3">
<h4 data-number="2.1.2.3" class="anchored" data-anchor-id="sieht-nicht-so-schön-aus"><span class="header-section-number">2.1.2.3</span> Sieht nicht so schön aus</h4>
<p>Hm, unser Punktediagramm sieht nicht übersichtlich aus. Besser wäre es, die Punkte absteigend zu sortieren.</p>
<p>Betrachten wir dazu die Variable <code>country</code> näher: Es handelt sich um eine Character-Variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(oecd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   429 obs. of  15 variables:
 $ Country                 : chr  "Australia" "Australia" "Australia" "Australia" ...
 $ Region                  : chr  "New South Wales" "Victoria" "Queensland" "South Australia" ...
 $ region_type             : chr  "country_part" "country_part" "country_part" "country_part" ...
 $ Code                    : chr  "AU1" "AU2" "AU3" "AU4" ...
 $ Education               : num  8 8.1 7.8 7.3 7.6 6.5 8.1 9.5 8.8 8.5 ...
 $ Jobs                    : num  8.1 7.9 8.1 7.8 8.8 7.6 8.7 9.3 7.8 8.2 ...
 $ Income                  : num  6.8 5.9 6.3 6.1 7.9 5.4 8.2 10 5.7 5.9 ...
 $ Safety                  : num  8.8 9.5 9.5 9 8.6 8.8 0 10 9.7 9.8 ...
 $ Health                  : num  9 9.5 8.3 8.5 9.3 5.4 2.4 9.3 6.7 6.6 ...
 $ Environment             : num  9.8 8.6 9.9 9.4 9.6 10 9.2 9.1 3.5 2.6 ...
 $ Civic_engagement        : num  10 10 10 10 10 10 8.4 10 8.6 8.1 ...
 $ Accessiblity_to_services: num  7.2 7.5 7.7 7.2 7.8 6.8 7.8 8.7 8 7.4 ...
 $ Housing                 : num  7.2 7.8 8.3 8.3 8.9 8.3 5.6 8.3 6.1 5.6 ...
 $ Community               : num  8.9 9.3 8.6 8.6 8.5 8.6 10 9.8 8.3 7.8 ...
 $ Life_satisfaction       : num  7.8 8.5 8.1 8.5 7.8 9.6 7 9.6 7.8 8.1 ...</code></pre>
</div>
</div>
<p>Eine Variable des Typs <code>character</code> steht für Text, z.B. <code>"Germany"</code>.</p>
<p>Offensichtlich sind diese alphabetisch geordnet – nach dieser Ordnung richtet sich die Ordnung im Diagramm.</p>
</section>
</section>
<section id="umwandling-in-eine-faktor-variable" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="umwandling-in-eine-faktor-variable"><span class="header-section-number">2.1.3</span> Umwandling in eine Faktor-Variable</h3>
<p>In solchen Fällen bietet es sich an, die Character-Variable in eine <em>Factor-Variable</em> umzuwandeln; dann geht das Weitere einfacher.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="ot">&lt;-</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">factor</span>(Country))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Übrigens: Möchte man wissen, wie viele <em>unterschiedliche</em> Werte eine Variable enthält, dann kann die Funktion <code>distinct()</code> verwenden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Country
1        Australia
2          Austria
3          Belgium
4           Canada
5            Chile
6   Czech Republic
7          Denmark
8          Estonia
9          Finland
10          France
11         Germany
12          Greece
13         Hungary
14         Iceland
15         Ireland
16          Israel
17           Italy
18           Japan
19           Korea
20      Luxembourg
21          Mexico
22     Netherlands
23     New Zealand
24          Norway
25          Poland
26        Portugal
27 Slovak Republic
28        Slovenia
29           Spain
30          Sweden
31     Switzerland
32          Turkey
33  United Kingdom
34   United States</code></pre>
</div>
</div>
</section>
</section>
<section id="ranking-und-top-10-prozent-der-zufriedenheit" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="ranking-und-top-10-prozent-der-zufriedenheit"><span class="header-section-number">2.2</span> Ranking und Top-10-Prozent der Zufriedenheit</h2>
<section id="top-10" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="top-10"><span class="header-section-number">2.2.1</span> Top-10</h3>
<p>Schauen wir uns die “Happy-Top-10” an, die 10 Länder mit der höchsten Lebenszufriedenheit:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>Life_satisfaction) <span class="sc">%&gt;%</span>  <span class="co"># absteigend sortieren</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country, Life_satisfaction) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Country Life_satisfaction
1      Denmark              10.0
2  Switzerland              10.0
3      Finland               9.7
4  Netherlands               9.7
5       Norway               9.7
6       Canada               9.3
7      Iceland               9.3
8       Sweden               9.3
9    Australia               8.8
10     Austria               8.8</code></pre>
</div>
</div>
</section>
<section id="die-oberen-10-der-zufriedenheit" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="die-oberen-10-der-zufriedenheit"><span class="header-section-number">2.2.2</span> Die oberen 10% der Zufriedenheit</h3>
<p>Mit welcher Lebenszufriedenheit gehört ein Land zu den Top-10-Prozent der zufriedenen Länder?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">quantile</span>(Life_satisfaction, <span class="at">probs =</span> .<span class="dv">90</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  quantile(Life_satisfaction, probs = 0.9)
1                                      9.7</code></pre>
</div>
</div>
<p>Ah, Länder mit einer Lebenszufriedenheit von mind. 9.7 gehören zu den oberen Top-10-Prozent. Filtern wir mal entsprechend:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Life_satisfaction <span class="sc">&gt;=</span> <span class="fl">9.7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country, Life_satisfaction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Country Life_satisfaction
1     Denmark              10.0
2     Finland               9.7
3 Netherlands               9.7
4      Norway               9.7
5 Switzerland              10.0</code></pre>
</div>
</div>
</section>
</section>
<section id="vertiefung" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="vertiefung"><span class="header-section-number">2.3</span> Vertiefung</h2>
<p>Ändern wir die Sortierung! Mit <code>reorder()</code> kann man die Sortierung ändern (re-ordnen, daher der Name):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="ot">&lt;-</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country_sorted =</span> <span class="fu">reorder</span>(Country, Life_satisfaction)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ist das jetzt geordnet? <code>str()</code> (wie <code>str</code>ucture) verrät es uns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(oecd_short_reordered)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   34 obs. of  16 variables:
 $ Country                 : Factor w/ 34 levels "Australia","Austria",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ Region                  : chr  "Australia" "Austria" "Belgium" "Canada" ...
 $ region_type             : chr  "country_whole" "country_whole" "country_whole" "country_whole" ...
 $ Code                    : chr  "AUS" "AUT" "BEL" "CAN" ...
 $ Education               : num  7.6 8.4 7.5 9.2 7.2 10 6.7 9.6 8.7 7.6 ...
 $ Jobs                    : num  7.9 7.7 5 6.6 6.2 7.3 7.9 6.6 6.4 5.2 ...
 $ Income                  : num  9.5 7.9 6.2 7.4 0.4 2.8 5.1 1 5.6 7 ...
 $ Safety                  : num  8.4 10 5.7 6.5 0.6 6.1 10 0 10 8.4 ...
 $ Health                  : num  9 7.2 6.6 8.5 4.2 2.7 5.8 2.1 7.3 9.3 ...
 $ Environment             : num  9.7 2.8 1.9 7.4 8.5 1.4 5.8 6.4 7.9 4.5 ...
 $ Civic_engagement        : num  10 6.2 9.7 4.7 0.1 2.6 8.9 3.7 4.8 7.5 ...
 $ Accessiblity_to_services: num  6.9 7.2 7.6 8.1 0 6.7 8.3 7.6 9 6.9 ...
 $ Housing                 : num  9.5 5.1 8.8 10 1.5 2.9 6.6 1.5 6.6 5.1 ...
 $ Community               : num  8.8 7.6 7.7 8.5 2.5 5.1 9.6 4.6 8.7 7.6 ...
 $ Life_satisfaction       : num  8.8 8.8 7.9 9.3 4.9 5.3 10 0.4 9.7 6.2 ...
 $ Country_sorted          : Factor w/ 34 levels "Hungary","Portugal",..: 23 24 20 27 12 13 33 4 30 15 ...
  ..- attr(*, "scores")= num [1:34(1d)] 8.8 8.8 7.9 9.3 4.9 5.3 10 0.4 9.7 6.2 ...
  .. ..- attr(*, "dimnames")=List of 1
  .. .. ..$ : chr [1:34] "Australia" "Austria" "Belgium" "Canada" ...</code></pre>
</div>
</div>
<p>Wie man sieht, ist <code>Country_sorted</code> jetzt anders sortiert.</p>
<p>Visualisieren wir das Ergebnis:</p>
<section id="mit-dataexplorer-3" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="mit-dataexplorer-3"><span class="header-section-number">2.3.1</span> Mit DataExplorer</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country_sorted, Life_satisfaction) <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"Life_satisfaction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Oh, <code>DataExplorer</code> macht die Reihenfolge wieder kaputt.</p>
</section>
<section id="mit-ggpubr-2" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="mit-ggpubr-2"><span class="header-section-number">2.3.2</span> Mit ggpubr</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggscatter</span>(<span class="at">x =</span> <span class="st">"Country_sorted"</span>,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="st">"Life_satisfaction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-ggplot-3" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="mit-ggplot-3"><span class="header-section-number">2.3.3</span> Mit ggplot</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>plot_sorted <span class="ot">&lt;-</span> oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>plot_sorted</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Schon besser. Man kann z.B. die Achsen nicht lesen 😿. Was könnte man da bloß tun?</p>
</section>
<section id="achsenu-um-90-grad-drehen" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="achsenu-um-90-grad-drehen"><span class="header-section-number">2.3.4</span> Achsenu um 90 Grad drehen</h3>
<p>Mit <code>+ coord_flip()</code> lassen sich die Achsen um 90 Grad drehen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>plot_sorted <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Schön 😄.</p>
<p>Man hätte das Sortieren und Achsen drehen auch in einem Haps machen können:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Aber übersichtlicher ist es, die Dinge nacheinander zu tun.</p>
</section>
<section id="mittelwert-ins-diagramm" class="level3" data-number="2.3.5">
<h3 data-number="2.3.5" class="anchored" data-anchor-id="mittelwert-ins-diagramm"><span class="header-section-number">2.3.5</span> Mittelwert ins Diagramm</h3>
<p>Schön wäre es noch, im Bild den Mittelwert o.Ä. im Diagramm zu sehen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">6.08</span>, <span class="at">data =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"firebrick"</span>) <span class="sc">+</span> </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Tja, die Wünsche hören nie auf… Wäre es nicht noch nett, wenn “Deutschland” hervorgehoben wäre, optisch, so dass es im Diagramm hervorsticht. Nehmen wir an, wir sind an diesem Land besonders interessiert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="ot">&lt;-</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_Germany =</span> Country <span class="sc">==</span> <span class="st">"Germany"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Damit haben wir eine Spalte erstellt, die angibt, ob ein Land Deutschland ist (<code>TRUE</code>) oder nicht (<code>FALSE</code>). Diese neue Variable nehmen wir her, um die Farbe, Größe und Form der Punkte zu bestimmen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> is_Germany, <span class="at">shape =</span> is_Germany, <span class="at">size =</span> is_Germany)) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">6.08</span>, <span class="at">data =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"firebrick"</span>) <span class="sc">+</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">6.08</span>, <span class="at">data =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"grey60"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">16</span>, <span class="at">data =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"grey80"</span>) <span class="sc">+</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="zusammenhang-zweier-metrischer-variablen-punktediagramm" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="zusammenhang-zweier-metrischer-variablen-punktediagramm"><span class="header-section-number">2.4</span> Zusammenhang zweier metrischer Variablen – Punktediagramm</h2>
<p>Hängt die Lebenszufriedenheit mit <code>Civic_engagment</code> zusammen?</p>
<p>Visualisieren wir diesen (möglichen) Zusammenhang.</p>
<section id="mit-ggpubr-3" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="mit-ggpubr-3"><span class="header-section-number">2.4.1</span> Mit ggpubr</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggscatter</span>(<span class="at">x =</span> <span class="st">"Civic_engagement"</span>,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="st">"Life_satisfaction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-dataexplorer-4" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="mit-dataexplorer-4"><span class="header-section-number">2.4.2</span> Mit DataExplorer</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Civic_engagement, Life_satisfaction) <span class="sc">|&gt;</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"Life_satisfaction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>DataExplorer bietet den Vorteil, dass man einfach überprüfen kann, ob irgendeine Variable mit Lebenszufriedenheit zusammenhängt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#select(Civic_engagement, Life_satisfaction) |&gt; </span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"Life_satisfaction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-38-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-ggplot-4" class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="mit-ggplot-4"><span class="header-section-number">2.4.3</span> Mit ggplot</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Civic_engagement, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="insgesamt-wenig-zusammenhang" class="level3" data-number="2.4.4">
<h3 data-number="2.4.4" class="anchored" data-anchor-id="insgesamt-wenig-zusammenhang"><span class="header-section-number">2.4.4</span> Insgesamt wenig Zusammenhang</h3>
<p>Hm, es ist kein starker Trend zu erkennen.</p>
<p>Was sagt die Korrelation dazu:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cor_ce_ls =</span> <span class="fu">cor</span>(Civic_engagement, Life_satisfaction))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  cor_ce_ls
1 0.4021292</code></pre>
</div>
</div>
<p>Immerhin, kein ganz unwesentlicher Wert.</p>
</section>
<section id="und-so-weiter" class="level3" data-number="2.4.5">
<h3 data-number="2.4.5" class="anchored" data-anchor-id="und-so-weiter"><span class="header-section-number">2.4.5</span> Und so weiter</h3>
<p>Dieses Prinzip mit dem Punktediagramm könnte man jetzt weiterführen ad nauseam.</p>
</section>
<section id="korrelationsdiagramm" class="level3" data-number="2.4.6">
<h3 data-number="2.4.6" class="anchored" data-anchor-id="korrelationsdiagramm"><span class="header-section-number">2.4.6</span> Korrelationsdiagramm</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_correlation</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="zusammenhang-zweier-variablen-unter-berücksichtigung-von-drittvariablen" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="zusammenhang-zweier-variablen-unter-berücksichtigung-von-drittvariablen"><span class="header-section-number">2.5</span> Zusammenhang zweier Variablen unter Berücksichtigung von Drittvariablen</h2>
<p>Oben haben wir gesehen, dass Lebenszufriedenheit und Civiv Engagement zusammenhängen (zumindest ein bisschen).</p>
<p>Aber vielleicht hängt dieser Zusammenhang wiederum von der finanziellen Absicherung ab? Nur wenn man materiell abgesichert ist, so könnte man argumentieren, wird bürgerliches Engagement (bzw. die Möglichkeit zu) eine Einflussgröße auf die Lebenszufriedenheit.</p>
<p>Anders gesagt: Man könnte behaupten, der Zusammenahng von Lebenszufriedenheit und Civiv Engagement ist abhängig von einer dritten Variable, dem Einkommen.</p>
<p>Um diese Frage zu untersuchen, teilen wir <code>Income</code> in zwei Stufen, hoch und gering. Dann untersuchen wir jeweils den Zusammenhang von Lebenszufriedenheit und bürgerlichem Engagement.</p>
<p><em>Achtung</em>! Eine metrische Variablen in zwei Hälften zu spalten birgt einen hohen Informationsverlust. Da wir aber nur eine grobe Untersuchung vorhaben (und uns noch nicht fortgeschrittener Technik bedienen wollen), bleiben wir erstmal bei dieser sog. <em>Dichotomisierung</em>.</p>
<p>Nehmen wir den Median des Einkommen als Teilungspunkt; man spricht von einem “Mediansplit”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Income_md =</span> <span class="fu">median</span>(Income))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Income_md
1      5.15</code></pre>
</div>
</div>
<p>Zuerst erstellen wir eine Variable <code>Income_high</code> mit den Stufen 0 (nein) und 1 (ja):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="ot">&lt;-</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Income_high =</span> </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">case_when</span>( Income <span class="sc">&gt;=</span> <span class="fu">median</span>(Income) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>                      Income <span class="sc">&lt;</span> <span class="fu">median</span>(Income) <span class="sc">~</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="visualisierung" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="visualisierung"><span class="header-section-number">2.5.1</span> Visualisierung</h3>
<p>Jetzt plotten wir den Zusammenhang:</p>
<section id="mit-ggpubr-4" class="level4" data-number="2.5.1.1">
<h4 data-number="2.5.1.1" class="anchored" data-anchor-id="mit-ggpubr-4"><span class="header-section-number">2.5.1.1</span> Mit ggpubr</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggscatter</span>(<span class="at">y =</span> <span class="st">"Country_sorted"</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="st">"Life_satisfaction"</span>,</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">facet.by =</span> <span class="st">"Income_high"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mit-ggplot-5" class="level4" data-number="2.5.1.2">
<h4 data-number="2.5.1.2" class="anchored" data-anchor-id="mit-ggplot-5"><span class="header-section-number">2.5.1.2</span> Mit ggplot</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>income_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"arm"</span>, </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>                   <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span><span class="st">"reich"</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Income_high, </span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">labeller =</span> <span class="fu">labeller</span>(<span class="at">Income_high =</span> income_labels))  <span class="sc">+</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Länder"</span>,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Lebenszufriedenheit"</span>,</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Lebenszufriedenheit in armen und reichen Ländern "</span>) <span class="sc">+</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="vertiefung-korrelation-pro-gruppe" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="vertiefung-korrelation-pro-gruppe"><span class="header-section-number">2.5.2</span> Vertiefung: Korrelation pro Gruppe</h3>
<p>Um die Korrelation pro Gruppe zu erhalten, könnten wir jeweils einen Dataframe pro Gruppe erzeugen (mit <code>filter()</code>) und dann jeweils die Korrelation von Zufriedenheit und Engagement berechnen.</p>
<p>Eine andere, etwas elegantere Möglichkeit kann so aussehen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Income_high) <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cor_zuf_eng =</span> <span class="fu">cor</span>(Life_satisfaction, Civic_engagement))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  Income_high cor_zuf_eng
        &lt;dbl&gt;       &lt;dbl&gt;
1           0       0.367
2           1       0.140</code></pre>
</div>
</div>
<p>Interessanterweise ist die Korrelation durchaus verschieden in den beiden Gruppen.</p>
<p>Natürlich sind die beiden Gruppen nur Stichproben - es stellt sich die Frage, ob die Unterschiede nur durch Zufälligkeiten des Stichprobenziehens entstanden sind oder auch in der Grundgesatmtheit der “reichen” und “armen” Ländern existieren? Dazu später mehr!</p>
</section>
</section>
<section id="deskriptive-statistiken-nach-ländern" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="deskriptive-statistiken-nach-ländern"><span class="header-section-number">2.6</span> Deskriptive Statistiken nach Ländern</h2>
<section id="lebenszufriedenheit" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="lebenszufriedenheit"><span class="header-section-number">2.6.1</span> Lebenszufriedenheit</h3>
<section id="mit-easystats" class="level4" data-number="2.6.1.1">
<h4 data-number="2.6.1.1" class="anchored" data-anchor-id="mit-easystats"><span class="header-section-number">2.6.1.1</span> Mit <code>easystats</code></h4>
<p>Das ist relativ einfach:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Life_satisfaction) <span class="sc">%&gt;%</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe_distribution</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Variable          | Mean |   SD |  IQR |         Range | Skewness | Kurtosis |  n | n_Missing
---------------------------------------------------------------------------------------------
Life_satisfaction | 6.07 | 3.38 | 6.33 | [0.00, 10.00] |    -0.58 |    -1.08 | 34 |         0</code></pre>
</div>
</div>
</section>
<section id="mit-tidyverse" class="level4" data-number="2.6.1.2">
<h4 data-number="2.6.1.2" class="anchored" data-anchor-id="mit-tidyverse"><span class="header-section-number">2.6.1.2</span> Mit <code>tidyverse</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">satis_mean =</span> <span class="fu">mean</span>(Life_satisfaction),</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">satis_median =</span> <span class="fu">median</span>(Life_satisfaction),</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">satis_sd =</span> <span class="fu">sd</span>(Life_satisfaction),</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">satis_iqr =</span> <span class="fu">IQR</span>(Life_satisfaction))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  satis_mean satis_median satis_sd satis_iqr
1   6.070588          7.3 3.379397     5.975</code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="reproducibility" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Reproducibility</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>─ Session info ───────────────────────────────────────────────────────────────────────────────────────────────────────
 setting  value
 version  R version 4.2.1 (2022-06-23)
 os       macOS Big Sur ... 10.16
 system   x86_64, darwin17.0
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       Europe/Berlin
 date     2024-05-09
 pandoc   3.1.12.2 @ /usr/local/bin/ (via rmarkdown)

─ Packages ───────────────────────────────────────────────────────────────────────────────────────────────────────────
 package      * version    date (UTC) lib source
 abind          1.4-5      2016-07-21 [1] CRAN (R 4.2.0)
 assertthat     0.2.1      2019-03-21 [1] CRAN (R 4.2.0)
 backports      1.4.1      2021-12-13 [1] CRAN (R 4.2.0)
 bayestestR   * 0.13.2     2024-02-12 [1] CRAN (R 4.2.1)
 broom          1.0.5      2023-06-09 [1] CRAN (R 4.2.0)
 cachem         1.0.8      2023-05-01 [1] CRAN (R 4.2.0)
 callr          3.7.5      2024-02-19 [1] CRAN (R 4.2.1)
 car            3.1-2      2023-03-30 [1] CRAN (R 4.2.0)
 carData        3.0-5      2022-01-06 [1] CRAN (R 4.2.0)
 cli            3.6.2      2023-12-11 [1] CRAN (R 4.2.0)
 coda           0.19-4     2020-09-30 [1] CRAN (R 4.2.0)
 codetools      0.2-19     2023-02-01 [1] CRAN (R 4.2.0)
 colorspace     2.1-0      2023-01-23 [1] CRAN (R 4.2.0)
 correlation  * 0.8.4      2023-04-06 [1] CRAN (R 4.2.1)
 crayon         1.5.2      2022-09-29 [1] CRAN (R 4.2.1)
 data.table     1.14.10    2023-12-08 [1] CRAN (R 4.2.0)
 DataExplorer * 0.8.2      2020-12-15 [1] CRAN (R 4.2.0)
 datawizard   * 0.9.1      2023-12-21 [1] CRAN (R 4.2.0)
 devtools       2.4.5      2022-10-11 [1] CRAN (R 4.2.1)
 digest         0.6.33     2023-07-07 [1] CRAN (R 4.2.0)
 dplyr        * 1.1.4      2023-11-17 [1] CRAN (R 4.2.0)
 easystats    * 0.7.0      2023-11-05 [1] CRAN (R 4.2.1)
 effectsize   * 0.8.6      2023-09-14 [1] CRAN (R 4.2.0)
 ellipsis       0.3.2      2021-04-29 [1] CRAN (R 4.2.0)
 emmeans        1.8.9      2023-10-17 [1] CRAN (R 4.2.0)
 emo            0.0.0.9000 2023-05-22 [1] Github (hadley/emo@3f03b11)
 estimability   1.4.1      2022-08-05 [1] CRAN (R 4.2.0)
 evaluate       0.23       2023-11-01 [1] CRAN (R 4.2.0)
 fansi          1.0.6      2023-12-08 [1] CRAN (R 4.2.0)
 farver         2.1.1      2022-07-06 [1] CRAN (R 4.2.0)
 fastmap        1.1.1      2023-02-24 [1] CRAN (R 4.2.0)
 forcats      * 1.0.0      2023-01-29 [1] CRAN (R 4.2.0)
 fs             1.6.3      2023-07-20 [1] CRAN (R 4.2.0)
 generics       0.1.3      2022-07-05 [1] CRAN (R 4.2.0)
 ggformula    * 0.12.0     2023-11-09 [1] CRAN (R 4.2.0)
 ggplot2      * 3.5.0      2024-02-23 [1] CRAN (R 4.2.1)
 ggpubr       * 0.6.0      2023-02-10 [1] CRAN (R 4.2.0)
 ggridges     * 0.5.6      2024-01-23 [1] CRAN (R 4.2.1)
 ggsignif       0.6.4      2022-10-13 [1] CRAN (R 4.2.0)
 glue           1.6.2      2022-02-24 [1] CRAN (R 4.2.0)
 gridExtra      2.3        2017-09-09 [1] CRAN (R 4.2.0)
 gtable         0.3.4      2023-08-21 [1] CRAN (R 4.2.0)
 haven          2.5.4      2023-11-30 [1] CRAN (R 4.2.0)
 hms            1.1.3      2023-03-21 [1] CRAN (R 4.2.0)
 htmltools      0.5.7      2023-11-03 [1] CRAN (R 4.2.0)
 htmlwidgets    1.6.4      2023-12-06 [1] CRAN (R 4.2.0)
 httpuv         1.6.13     2023-12-06 [1] CRAN (R 4.2.0)
 igraph         2.0.2      2024-02-17 [1] CRAN (R 4.2.1)
 insight      * 0.19.8     2024-01-31 [1] CRAN (R 4.2.1)
 jsonlite       1.8.8      2023-12-04 [1] CRAN (R 4.2.0)
 knitr          1.45       2023-10-30 [1] CRAN (R 4.2.1)
 labeling       0.4.3      2023-08-29 [1] CRAN (R 4.2.0)
 labelled       2.11.0     2023-04-11 [1] CRAN (R 4.2.0)
 later          1.3.2      2023-12-06 [1] CRAN (R 4.2.0)
 lattice      * 0.21-8     2023-04-05 [1] CRAN (R 4.2.0)
 lifecycle      1.0.4      2023-11-07 [1] CRAN (R 4.2.1)
 lubridate    * 1.9.3      2023-09-27 [1] CRAN (R 4.2.0)
 magrittr       2.0.3      2022-03-30 [1] CRAN (R 4.2.0)
 MASS           7.3-60     2023-05-04 [1] CRAN (R 4.2.0)
 Matrix       * 1.5-4.1    2023-05-18 [1] CRAN (R 4.2.0)
 memoise        2.0.1      2021-11-26 [1] CRAN (R 4.2.0)
 mime           0.12       2021-09-28 [1] CRAN (R 4.2.0)
 miniUI         0.1.1.1    2018-05-18 [1] CRAN (R 4.2.0)
 modelbased   * 0.8.7      2024-02-15 [1] CRAN (R 4.2.1)
 mosaic         1.9.0      2023-11-10 [1] CRAN (R 4.2.1)
 mosaicCore     0.9.4.0    2023-11-05 [1] CRAN (R 4.2.1)
 mosaicData   * 0.20.4     2023-11-05 [1] CRAN (R 4.2.1)
 multcomp       1.4-25     2023-06-20 [1] CRAN (R 4.2.0)
 munsell        0.5.0      2018-06-12 [1] CRAN (R 4.2.0)
 mvtnorm        1.2-2      2023-06-08 [1] CRAN (R 4.2.0)
 networkD3      0.4        2017-03-18 [1] CRAN (R 4.2.0)
 parameters   * 0.21.5     2024-02-07 [1] CRAN (R 4.2.1)
 performance  * 0.10.9     2024-02-17 [1] CRAN (R 4.2.1)
 pillar         1.9.0      2023-03-22 [1] CRAN (R 4.2.0)
 pkgbuild       1.4.0      2022-11-27 [1] CRAN (R 4.2.0)
 pkgconfig      2.0.3      2019-09-22 [1] CRAN (R 4.2.0)
 pkgload        1.3.2.1    2023-07-08 [1] CRAN (R 4.2.0)
 plyr           1.8.8      2022-11-11 [1] CRAN (R 4.2.0)
 prettyunits    1.2.0      2023-09-24 [1] CRAN (R 4.2.0)
 processx       3.8.3      2023-12-10 [1] CRAN (R 4.2.0)
 profvis        0.3.8      2023-05-02 [1] CRAN (R 4.2.0)
 promises       1.2.1      2023-08-10 [1] CRAN (R 4.2.0)
 ps             1.7.5      2023-04-18 [1] CRAN (R 4.2.0)
 purrr        * 1.0.2      2023-08-10 [1] CRAN (R 4.2.0)
 R6             2.5.1      2021-08-19 [1] CRAN (R 4.2.0)
 Rcpp           1.0.11     2023-07-06 [1] CRAN (R 4.2.0)
 readr        * 2.1.5      2024-01-10 [1] CRAN (R 4.2.1)
 remotes        2.4.2.1    2023-07-18 [1] CRAN (R 4.2.0)
 report       * 0.5.8      2023-12-07 [1] CRAN (R 4.2.1)
 reshape2       1.4.4      2020-04-09 [1] CRAN (R 4.2.0)
 rlang          1.1.3      2024-01-10 [1] CRAN (R 4.2.1)
 rmarkdown      2.26       2024-03-05 [1] CRAN (R 4.2.1)
 rstatix        0.7.2      2023-02-01 [1] CRAN (R 4.2.0)
 rstudioapi     0.15.0     2023-07-07 [1] CRAN (R 4.2.0)
 sandwich       3.0-2      2022-06-15 [1] CRAN (R 4.2.0)
 scales       * 1.3.0      2023-11-28 [1] CRAN (R 4.2.0)
 see          * 0.8.2      2024-02-14 [1] CRAN (R 4.2.1)
 sessioninfo    1.2.2      2021-12-06 [1] CRAN (R 4.2.0)
 shiny          1.8.0      2023-11-17 [1] CRAN (R 4.2.1)
 stringi        1.8.3      2023-12-11 [1] CRAN (R 4.2.0)
 stringr      * 1.5.1      2023-11-14 [1] CRAN (R 4.2.1)
 survival       3.5-5      2023-03-12 [1] CRAN (R 4.2.0)
 TH.data        1.1-2      2023-04-17 [1] CRAN (R 4.2.0)
 tibble       * 3.2.1      2023-03-20 [1] CRAN (R 4.2.0)
 tidyr        * 1.3.1      2024-01-24 [1] CRAN (R 4.2.1)
 tidyselect     1.2.0      2022-10-10 [1] CRAN (R 4.2.0)
 tidyverse    * 2.0.0      2023-02-22 [1] CRAN (R 4.2.0)
 timechange     0.2.0      2023-01-11 [1] CRAN (R 4.2.0)
 tzdb           0.4.0      2023-05-12 [1] CRAN (R 4.2.0)
 urlchecker     1.0.1      2021-11-30 [1] CRAN (R 4.2.0)
 usethis        2.2.2      2023-07-06 [1] CRAN (R 4.2.0)
 utf8           1.2.4      2023-10-22 [1] CRAN (R 4.2.0)
 vctrs          0.6.5      2023-12-01 [1] CRAN (R 4.2.0)
 withr          3.0.0      2024-01-16 [1] CRAN (R 4.2.1)
 xfun           0.41       2023-11-01 [1] CRAN (R 4.2.0)
 xtable         1.8-4      2019-04-21 [1] CRAN (R 4.2.0)
 yaml           2.3.8      2023-12-11 [1] CRAN (R 4.2.0)
 zoo            1.8-12     2023-04-13 [1] CRAN (R 4.2.0)

 [1] /Users/sebastiansaueruser/Rlibs
 [2] /Library/Frameworks/R.framework/Versions/4.2/Resources/library

──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb64" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> 2024-05-08  # HEUTIGES DATUM EINTRAGEN</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="an">draft:</span><span class="co"> FALSE   # ACHTUNG DRAFT STEHT AUF TRUE!</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> oecd-yacsda</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="co">  </span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co">  eval: true </span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="an">highlight-style:</span><span class="co"> arrow </span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="an">cache:</span><span class="co"> true</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="an">extype:</span><span class="co"> string</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a><span class="an">exsolution:</span><span class="co"> ""</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a><span class="an">exshuffle:</span><span class="co"> no</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a><span class="co">- eda  # ENTER CATEGORIES HERE</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a><span class="co">- datawrangling</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a><span class="co">- vis</span></span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a><span class="co">- yacsda</span></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a><span class="co">- r</span></span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> "/Users/sebastiansaueruser/Google Drive/Literatur/refmgt/library-ses.bib"</span></span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a><span class="an">csl:</span><span class="co"> "/Users/sebastiansaueruser/Google Drive/Literatur/refmgt/apa7.csl"</span></span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb64-27"><a href="#cb64-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-28"><a href="#cb64-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-29"><a href="#cb64-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-30"><a href="#cb64-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-31"><a href="#cb64-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-32"><a href="#cb64-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-33"><a href="#cb64-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-34"><a href="#cb64-34" aria-hidden="true" tabindex="-1"></a><span class="in">```{r knitr-setup, echo = FALSE}</span></span>
<span id="cb64-35"><a href="#cb64-35" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(</span></span>
<span id="cb64-36"><a href="#cb64-36" aria-hidden="true" tabindex="-1"></a><span class="in">  comment = "#&gt;",</span></span>
<span id="cb64-37"><a href="#cb64-37" aria-hidden="true" tabindex="-1"></a><span class="in">  collapse = TRUE,</span></span>
<span id="cb64-38"><a href="#cb64-38" aria-hidden="true" tabindex="-1"></a><span class="in">  message = FALSE,</span></span>
<span id="cb64-39"><a href="#cb64-39" aria-hidden="true" tabindex="-1"></a><span class="in">  warning = FALSE,</span></span>
<span id="cb64-40"><a href="#cb64-40" aria-hidden="true" tabindex="-1"></a><span class="in">  cache = TRUE,</span></span>
<span id="cb64-41"><a href="#cb64-41" aria-hidden="true" tabindex="-1"></a><span class="in">  out.width = "100%",</span></span>
<span id="cb64-42"><a href="#cb64-42" aria-hidden="true" tabindex="-1"></a><span class="in">  fig.align = 'center',</span></span>
<span id="cb64-43"><a href="#cb64-43" aria-hidden="true" tabindex="-1"></a><span class="in">  fig.width = 6,</span></span>
<span id="cb64-44"><a href="#cb64-44" aria-hidden="true" tabindex="-1"></a><span class="in">  fig.asp = 0.618,  # 1 / phi</span></span>
<span id="cb64-45"><a href="#cb64-45" aria-hidden="true" tabindex="-1"></a><span class="in">  fig.show = "hold",</span></span>
<span id="cb64-46"><a href="#cb64-46" aria-hidden="true" tabindex="-1"></a><span class="in">  size = "tiny"</span></span>
<span id="cb64-47"><a href="#cb64-47" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb64-48"><a href="#cb64-48" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-49"><a href="#cb64-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-50"><a href="#cb64-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-51"><a href="#cb64-51" aria-hidden="true" tabindex="-1"></a>**Fallstudie: Explorative Datenanalyse zum Datensatz "OECD Wellbeing"**</span>
<span id="cb64-52"><a href="#cb64-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-53"><a href="#cb64-53" aria-hidden="true" tabindex="-1"></a>(YACSDA: Yet another Case Study on Data Analysis)</span>
<span id="cb64-54"><a href="#cb64-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-55"><a href="#cb64-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-56"><a href="#cb64-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-57"><a href="#cb64-57" aria-hidden="true" tabindex="-1"></a><span class="fu"># Grundlagen</span></span>
<span id="cb64-58"><a href="#cb64-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-59"><a href="#cb64-59" aria-hidden="true" tabindex="-1"></a>:::{.callout-tip}</span>
<span id="cb64-60"><a href="#cb64-60" aria-hidden="true" tabindex="-1"></a>Wenn Sie nicht mehr weiter wissen, googeln Sie nach dem Problem. Oder fragen Sie einen ChatBot, z.b. ChatGPT. $\square$</span>
<span id="cb64-61"><a href="#cb64-61" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb64-62"><a href="#cb64-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-63"><a href="#cb64-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-64"><a href="#cb64-64" aria-hidden="true" tabindex="-1"></a>:::{.callout-important}</span>
<span id="cb64-65"><a href="#cb64-65" aria-hidden="true" tabindex="-1"></a>Im Folgenden werden mitunter mehrere Lösungswege präsentiert. Sie können sich den Weg aussuchen, der Ihnen am besten gefällt. Sie müssen *nicht* alle Wege verstehen oder gar beherrschen. Einer reicht. $\square$</span>
<span id="cb64-66"><a href="#cb64-66" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb64-67"><a href="#cb64-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-68"><a href="#cb64-68" aria-hidden="true" tabindex="-1"></a><span class="fu">## Hintergrund</span></span>
<span id="cb64-69"><a href="#cb64-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-70"><a href="#cb64-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-71"><a href="#cb64-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-72"><a href="#cb64-72" aria-hidden="true" tabindex="-1"></a>In diesem Post untersuchen wir einige Aspekte der explorativen Datenanalyse für den Datensatz <span class="in">`oecd wellbeing`</span> aus dem Jahr 2016.</span>
<span id="cb64-73"><a href="#cb64-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-74"><a href="#cb64-74" aria-hidden="true" tabindex="-1"></a>*Hinweis*: Als *Vertiefung*  gekennzeichnete Abschnitt sind *nicht* prüfungsrelevant.</span>
<span id="cb64-75"><a href="#cb64-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-76"><a href="#cb64-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-77"><a href="#cb64-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-78"><a href="#cb64-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-79"><a href="#cb64-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-80"><a href="#cb64-80" aria-hidden="true" tabindex="-1"></a><span class="fu">## Benötigte Pakete</span></span>
<span id="cb64-81"><a href="#cb64-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-82"><a href="#cb64-82" aria-hidden="true" tabindex="-1"></a>Ein Standard-Paket zur grundlegenden Datenanalyse bzw. des Datenjudos ist <span class="in">`tidyverse`</span>. Darüber hinaus verwenden wir noch zwei Pakete zur Visualisierung und eines für den Komfort.</span>
<span id="cb64-83"><a href="#cb64-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-84"><a href="#cb64-84" aria-hidden="true" tabindex="-1"></a><span class="in">```{r libs}</span></span>
<span id="cb64-85"><a href="#cb64-85" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)  # Datenjudo</span></span>
<span id="cb64-86"><a href="#cb64-86" aria-hidden="true" tabindex="-1"></a><span class="in">library(easystats)  # Komfort </span></span>
<span id="cb64-87"><a href="#cb64-87" aria-hidden="true" tabindex="-1"></a><span class="in">library(DataExplorer)  # Data vis</span></span>
<span id="cb64-88"><a href="#cb64-88" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggpubr)  # Data vis</span></span>
<span id="cb64-89"><a href="#cb64-89" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-90"><a href="#cb64-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-91"><a href="#cb64-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-92"><a href="#cb64-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-93"><a href="#cb64-93" aria-hidden="true" tabindex="-1"></a><span class="fu">## Datensatz laden</span></span>
<span id="cb64-94"><a href="#cb64-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-95"><a href="#cb64-95" aria-hidden="true" tabindex="-1"></a>Der Datensatz kann <span class="co">[</span><span class="ot">hier</span><span class="co">](https://stats.oecd.org/Index.aspx?DataSetCode=RWB)</span> bezogen werden.</span>
<span id="cb64-96"><a href="#cb64-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-97"><a href="#cb64-97" aria-hidden="true" tabindex="-1"></a>Doi: https://doi.org/10.1787/data-00707-en.</span>
<span id="cb64-98"><a href="#cb64-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-99"><a href="#cb64-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-100"><a href="#cb64-100" aria-hidden="true" tabindex="-1"></a>Falls der Datensatz lokal (auf Ihrem Rechner) vorliegt, können Sie ihn in gewohnter Manier importieren. Geben Sie dazu den Pfad zum Datensatz ein; bei mir sieht das so aus:</span>
<span id="cb64-101"><a href="#cb64-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-102"><a href="#cb64-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-103"><a href="#cb64-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-104"><a href="#cb64-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-105"><a href="#cb64-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-106"><a href="#cb64-106" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load-data}</span></span>
<span id="cb64-107"><a href="#cb64-107" aria-hidden="true" tabindex="-1"></a><span class="in">#| eval: false</span></span>
<span id="cb64-108"><a href="#cb64-108" aria-hidden="true" tabindex="-1"></a><span class="in">oecd &lt;- read.csv("/Users/sebastiansaueruser/datasets/oecd_wellbeing.csv")</span></span>
<span id="cb64-109"><a href="#cb64-109" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-110"><a href="#cb64-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-111"><a href="#cb64-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-112"><a href="#cb64-112" aria-hidden="true" tabindex="-1"></a>Liegt die Datendatei im *gleichen Verzeichnis*  wie Ihre R-/Quarto-/Rmd-Datei, dann brauchen Sie *nur* den Dateinamen, *nicht* den Pfad, anzugeben.</span>
<span id="cb64-113"><a href="#cb64-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-114"><a href="#cb64-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-115"><a href="#cb64-115" aria-hidden="true" tabindex="-1"></a>*Alternativ* können Sie die Daten direkt von einem Server beziehen:</span>
<span id="cb64-116"><a href="#cb64-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-119"><a href="#cb64-119" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-120"><a href="#cb64-120" aria-hidden="true" tabindex="-1"></a>oecd <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/sebastiansauer/2021-sose/master/data/OECD/oecd-wellbeing.csv"</span>)</span>
<span id="cb64-121"><a href="#cb64-121" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-122"><a href="#cb64-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-123"><a href="#cb64-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-124"><a href="#cb64-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-125"><a href="#cb64-125" aria-hidden="true" tabindex="-1"></a><span class="fu">## Erster Blick</span></span>
<span id="cb64-126"><a href="#cb64-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-127"><a href="#cb64-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-130"><a href="#cb64-130" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-131"><a href="#cb64-131" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(oecd)</span>
<span id="cb64-132"><a href="#cb64-132" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-133"><a href="#cb64-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-134"><a href="#cb64-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-135"><a href="#cb64-135" aria-hidden="true" tabindex="-1"></a>Wie <span class="in">`glimpse()`</span> aufzeigt, liegen also einige qualitative (kategoriale, <span class="in">`chr`</span>, vom Typ "Text") und einige quantitative (metrische, <span class="in">`dbl`</span>) Variablen vor. </span>
<span id="cb64-136"><a href="#cb64-136" aria-hidden="true" tabindex="-1"></a>Die qualitativen Variablen sind für eine direkte Analyse weniger interessant; vielmehr ist es interessant, die Statistiken auf die *Gruppen* (Stufen, Level) der qualitativen Variablen aufzusplitten.</span>
<span id="cb64-137"><a href="#cb64-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-138"><a href="#cb64-138" aria-hidden="true" tabindex="-1"></a>Betrachten wir aber zu Beginn die metrischen Variablen einzeln (univariat).</span>
<span id="cb64-139"><a href="#cb64-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-140"><a href="#cb64-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-141"><a href="#cb64-141" aria-hidden="true" tabindex="-1"></a><span class="fu">## Deskriptive Statistiken zu den metrischen Variablen, einzeln (univariat)</span></span>
<span id="cb64-142"><a href="#cb64-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-143"><a href="#cb64-143" aria-hidden="true" tabindex="-1"></a>Zentrale Statistiken zu den metrischen Variablen lassen sich auf mehreren Wegen mit R berechnen. Hier ist ein Weg:</span>
<span id="cb64-144"><a href="#cb64-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-147"><a href="#cb64-147" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-148"><a href="#cb64-148" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb64-149"><a href="#cb64-149" aria-hidden="true" tabindex="-1"></a><span class="fu">describe_distribution</span>(oecd)</span>
<span id="cb64-150"><a href="#cb64-150" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-151"><a href="#cb64-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-152"><a href="#cb64-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-153"><a href="#cb64-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-156"><a href="#cb64-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-157"><a href="#cb64-157" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb64-158"><a href="#cb64-158" aria-hidden="true" tabindex="-1"></a><span class="fu">describe_distribution</span>(oecd) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits=</span><span class="dv">2</span>)</span>
<span id="cb64-159"><a href="#cb64-159" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-160"><a href="#cb64-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-161"><a href="#cb64-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-162"><a href="#cb64-162" aria-hidden="true" tabindex="-1"></a>Jetzt gehen wir weiter zur Visualisierung der Verteilung der metrischen Variablen.</span>
<span id="cb64-163"><a href="#cb64-163" aria-hidden="true" tabindex="-1"></a>Auch hier gibt es wieder viele Lösungen.</span>
<span id="cb64-164"><a href="#cb64-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-165"><a href="#cb64-165" aria-hidden="true" tabindex="-1"></a>Es reicht, wenn Sie mit *einer* Lösung vertraut sind.</span>
<span id="cb64-166"><a href="#cb64-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-167"><a href="#cb64-167" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit ggpubr</span></span>
<span id="cb64-168"><a href="#cb64-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-171"><a href="#cb64-171" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-172"><a href="#cb64-172" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">|&gt;</span> </span>
<span id="cb64-173"><a href="#cb64-173" aria-hidden="true" tabindex="-1"></a><span class="fu">gghistogram</span>(<span class="at">x =</span> <span class="st">"Life_satisfaction"</span>)</span>
<span id="cb64-174"><a href="#cb64-174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-175"><a href="#cb64-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-176"><a href="#cb64-176" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit DataExplorer</span></span>
<span id="cb64-177"><a href="#cb64-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-180"><a href="#cb64-180" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-181"><a href="#cb64-181" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">|&gt;</span> </span>
<span id="cb64-182"><a href="#cb64-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Life_satisfaction) <span class="sc">|&gt;</span> </span>
<span id="cb64-183"><a href="#cb64-183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_histogram</span>()</span>
<span id="cb64-184"><a href="#cb64-184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-185"><a href="#cb64-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-186"><a href="#cb64-186" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit ggplot</span></span>
<span id="cb64-187"><a href="#cb64-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-188"><a href="#cb64-188" aria-hidden="true" tabindex="-1"></a>Das R-Paket <span class="in">`ggplot`</span> wird durch das "Meta-Paket" <span class="in">`tidyverse`</span> gestartet. Sie müssen es also nicht extra starten.</span>
<span id="cb64-189"><a href="#cb64-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-192"><a href="#cb64-192" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-193"><a href="#cb64-193" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">%&gt;%</span> </span>
<span id="cb64-194"><a href="#cb64-194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-195"><a href="#cb64-195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb64-196"><a href="#cb64-196" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-197"><a href="#cb64-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-198"><a href="#cb64-198" aria-hidden="true" tabindex="-1"></a>Eine ähnliche Aussage liefert das Dichte-Diagramm:</span>
<span id="cb64-199"><a href="#cb64-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-200"><a href="#cb64-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-203"><a href="#cb64-203" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-204"><a href="#cb64-204" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">%&gt;%</span> </span>
<span id="cb64-205"><a href="#cb64-205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-206"><a href="#cb64-206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span>
<span id="cb64-207"><a href="#cb64-207" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-208"><a href="#cb64-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-209"><a href="#cb64-209" aria-hidden="true" tabindex="-1"></a>Die *Dichte*  gibt an, welcher Anteil der Beobachtungen an der jeweiligen Stelle der X-Achse lägen, wenn man eine Einheit betrachtet (z.B. die Lebenszufriedenheit von 5-6).</span>
<span id="cb64-210"><a href="#cb64-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-211"><a href="#cb64-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-212"><a href="#cb64-212" aria-hidden="true" tabindex="-1"></a><span class="fu">## Histogramm nach Gruppen: Lebenszufriedenheit in De und Fr</span></span>
<span id="cb64-213"><a href="#cb64-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-214"><a href="#cb64-214" aria-hidden="true" tabindex="-1"></a>Angenommen, man möchte Deutschland mit Frankreich vergleichen im Hinblick auf die Lebenszufriedenheit.</span>
<span id="cb64-215"><a href="#cb64-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-216"><a href="#cb64-216" aria-hidden="true" tabindex="-1"></a>Zunächst filtern wir den OECD-Datensatz, so dass nur die beiden genannten Länder enthalten bleiben:</span>
<span id="cb64-217"><a href="#cb64-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-218"><a href="#cb64-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-221"><a href="#cb64-221" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-222"><a href="#cb64-222" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="ot">&lt;-</span> </span>
<span id="cb64-223"><a href="#cb64-223" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">%&gt;%</span> </span>
<span id="cb64-224"><a href="#cb64-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">==</span> <span class="st">"Germany"</span> <span class="sc">|</span> Country <span class="sc">==</span> <span class="st">"France"</span>) </span>
<span id="cb64-225"><a href="#cb64-225" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-226"><a href="#cb64-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-227"><a href="#cb64-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-228"><a href="#cb64-228" aria-hidden="true" tabindex="-1"></a>Dann visualisieren wir wieder.</span>
<span id="cb64-229"><a href="#cb64-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-230"><a href="#cb64-230" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit ggpubr</span></span>
<span id="cb64-231"><a href="#cb64-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-234"><a href="#cb64-234" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-235"><a href="#cb64-235" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">|&gt;</span> </span>
<span id="cb64-236"><a href="#cb64-236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gghistogram</span>(<span class="at">x =</span> <span class="st">"Life_satisfaction"</span>, <span class="at">facet.by =</span> <span class="st">"Country"</span>)</span>
<span id="cb64-237"><a href="#cb64-237" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-238"><a href="#cb64-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-239"><a href="#cb64-239" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit DataExplorer</span></span>
<span id="cb64-240"><a href="#cb64-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-241"><a href="#cb64-241" aria-hidden="true" tabindex="-1"></a>Leider unterstützt DataExplorer nicht direkt den Vergleich von Grupen mit einem Histogramm. Man könnte aber einen Boxplot verwenden stattdessen.</span>
<span id="cb64-242"><a href="#cb64-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-245"><a href="#cb64-245" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-246"><a href="#cb64-246" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">|&gt;</span> </span>
<span id="cb64-247"><a href="#cb64-247" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Life_satisfaction, Country) <span class="sc">|&gt;</span> </span>
<span id="cb64-248"><a href="#cb64-248" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_boxplot</span>(<span class="at">by =</span> <span class="st">"Country"</span>)</span>
<span id="cb64-249"><a href="#cb64-249" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-250"><a href="#cb64-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-251"><a href="#cb64-251" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit ggplot</span></span>
<span id="cb64-252"><a href="#cb64-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-255"><a href="#cb64-255" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-256"><a href="#cb64-256" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">%&gt;%</span> </span>
<span id="cb64-257"><a href="#cb64-257" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-258"><a href="#cb64-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb64-259"><a href="#cb64-259" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Country)</span>
<span id="cb64-260"><a href="#cb64-260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-261"><a href="#cb64-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-262"><a href="#cb64-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-263"><a href="#cb64-263" aria-hidden="true" tabindex="-1"></a><span class="fu">## Histogramm für alle metrischen Variablen auf einmal</span></span>
<span id="cb64-264"><a href="#cb64-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-265"><a href="#cb64-265" aria-hidden="true" tabindex="-1"></a>Um einen Überblick über die Verteilungen zu bekommen, bietet es sich an, sich alle Verteilungen anzuschauen. </span>
<span id="cb64-266"><a href="#cb64-266" aria-hidden="true" tabindex="-1"></a>Malen wir einmal alle Histogramme auf einmal. Das geht wiederum mit <span class="in">`DataExplorer`</span> sehr einfach:</span>
<span id="cb64-267"><a href="#cb64-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-270"><a href="#cb64-270" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-271"><a href="#cb64-271" aria-hidden="true" tabindex="-1"></a>oecd <span class="sc">|&gt;</span> </span>
<span id="cb64-272"><a href="#cb64-272" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_histogram</span>()</span>
<span id="cb64-273"><a href="#cb64-273" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-274"><a href="#cb64-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-275"><a href="#cb64-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-276"><a href="#cb64-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-277"><a href="#cb64-277" aria-hidden="true" tabindex="-1"></a><span class="fu">## VERTIEFUNG: Histogramm für alle Variablen auf kompliziert</span></span>
<span id="cb64-278"><a href="#cb64-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-279"><a href="#cb64-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-280"><a href="#cb64-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-281"><a href="#cb64-281" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb64-282"><a href="#cb64-282" aria-hidden="true" tabindex="-1"></a>Dieser Abschnitt ist eine Vertiefung; Sie können in überspringen, ohne den Anschluss zu den folgenden Abschnitten zu verlieren. $\square$</span>
<span id="cb64-283"><a href="#cb64-283" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb64-284"><a href="#cb64-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-285"><a href="#cb64-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-286"><a href="#cb64-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-287"><a href="#cb64-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-288"><a href="#cb64-288" aria-hidden="true" tabindex="-1"></a>Als erstes erzeugen wir einen langen Dataframe (der nur aus metrischen Variablen besteht):</span>
<span id="cb64-289"><a href="#cb64-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-292"><a href="#cb64-292" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-293"><a href="#cb64-293" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">%&gt;%</span> </span>
<span id="cb64-294"><a href="#cb64-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># wähle alle Spalten aus, wo sich Nummern finden</span></span>
<span id="cb64-295"><a href="#cb64-295" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>()) <span class="sc">%&gt;%</span>  <span class="co"># baue alle Variablen in ein langes Format um</span></span>
<span id="cb64-296"><a href="#cb64-296" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="co"># zeige die Zeilen 1 bis 10</span></span>
<span id="cb64-297"><a href="#cb64-297" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-298"><a href="#cb64-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-299"><a href="#cb64-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-300"><a href="#cb64-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-301"><a href="#cb64-301" aria-hidden="true" tabindex="-1"></a>Dann plotten wir Histogramme, wobei wir nach den Ländern (<span class="in">`key`</span>) gruppieren. Aber zuerst speichern wir uns den "langen" Datensatz ab:</span>
<span id="cb64-302"><a href="#cb64-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-305"><a href="#cb64-305" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-306"><a href="#cb64-306" aria-hidden="true" tabindex="-1"></a>oecd_de_fr_long <span class="ot">&lt;-</span> </span>
<span id="cb64-307"><a href="#cb64-307" aria-hidden="true" tabindex="-1"></a>oecd_de_fr <span class="sc">%&gt;%</span> </span>
<span id="cb64-308"><a href="#cb64-308" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># wähle alle Spalten aus, wo sich Nummern finden</span></span>
<span id="cb64-309"><a href="#cb64-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>()) </span>
<span id="cb64-310"><a href="#cb64-310" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-311"><a href="#cb64-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-312"><a href="#cb64-312" aria-hidden="true" tabindex="-1"></a>Betrachten Sie diesen Daten einmal zur Übung.</span>
<span id="cb64-313"><a href="#cb64-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-314"><a href="#cb64-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-315"><a href="#cb64-315" aria-hidden="true" tabindex="-1"></a>Dann plotten wir in gewohnter Manier:</span>
<span id="cb64-316"><a href="#cb64-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-319"><a href="#cb64-319" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-320"><a href="#cb64-320" aria-hidden="true" tabindex="-1"></a>oecd_de_fr_long <span class="sc">%&gt;%</span> </span>
<span id="cb64-321"><a href="#cb64-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value)) <span class="sc">+</span></span>
<span id="cb64-322"><a href="#cb64-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb64-323"><a href="#cb64-323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> name)</span>
<span id="cb64-324"><a href="#cb64-324" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-325"><a href="#cb64-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-326"><a href="#cb64-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-327"><a href="#cb64-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-328"><a href="#cb64-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-329"><a href="#cb64-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-330"><a href="#cb64-330" aria-hidden="true" tabindex="-1"></a><span class="fu"># Forschungsfrage: Lebenszufriedenheit in De im internationalen Vergleich</span></span>
<span id="cb64-331"><a href="#cb64-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-332"><a href="#cb64-332" aria-hidden="true" tabindex="-1"></a><span class="fu">## Hintergrund</span></span>
<span id="cb64-333"><a href="#cb64-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-334"><a href="#cb64-334" aria-hidden="true" tabindex="-1"></a>Hat Deutschland in Vergleich zu anderen Ländern eine hohe Lebenszufriedenheit?</span>
<span id="cb64-335"><a href="#cb64-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-336"><a href="#cb64-336" aria-hidden="true" tabindex="-1"></a>Die Frage ist noch recht unpräzise formuliert, aber dafür gibt sie Raum für eine Menge von Untersuchungsansätzen.</span>
<span id="cb64-337"><a href="#cb64-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-338"><a href="#cb64-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-339"><a href="#cb64-339" aria-hidden="true" tabindex="-1"></a><span class="fu">### Datensatz filtern - nur Länder, keine Landesteile</span></span>
<span id="cb64-340"><a href="#cb64-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-341"><a href="#cb64-341" aria-hidden="true" tabindex="-1"></a>Der Datensatz in seiner aktuellen Form verstößt gegen die Regel der "Normalform", dass in jeder Zeile (genau) eine Beobachtungseinheit steht und in jeder Zeile (genau) eine Variable. In einigen Zeilen stehen *Länder*, in den meisten anderen aber *Landesteile* (wie Bayern, Baden-Württemberg etc.). Filtern wir uns nur die Länder, und exkdluieren die Landesteile:</span>
<span id="cb64-342"><a href="#cb64-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-343"><a href="#cb64-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-346"><a href="#cb64-346" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-347"><a href="#cb64-347" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="ot">&lt;-</span></span>
<span id="cb64-348"><a href="#cb64-348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(oecd, region_type <span class="sc">==</span> <span class="st">"country_whole"</span>) </span>
<span id="cb64-349"><a href="#cb64-349" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-350"><a href="#cb64-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-351"><a href="#cb64-351" aria-hidden="true" tabindex="-1"></a>Die Anzahl der Zeilen dieses Datensatz <span class="in">`oecd_short`</span> gibt uns Aufschluss über die Anzahl der untersuchten Länder.</span>
<span id="cb64-352"><a href="#cb64-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-353"><a href="#cb64-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-354"><a href="#cb64-354" aria-hidden="true" tabindex="-1"></a><span class="fu">### Visualisierung der Lebenszufriedenheit der Länder</span></span>
<span id="cb64-355"><a href="#cb64-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-356"><a href="#cb64-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-357"><a href="#cb64-357" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Mit DataExplorer</span></span>
<span id="cb64-358"><a href="#cb64-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-361"><a href="#cb64-361" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-362"><a href="#cb64-362" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">|&gt;</span> </span>
<span id="cb64-363"><a href="#cb64-363" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country, Life_satisfaction) <span class="sc">|&gt;</span> </span>
<span id="cb64-364"><a href="#cb64-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"Life_satisfaction"</span>)</span>
<span id="cb64-365"><a href="#cb64-365" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-366"><a href="#cb64-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-367"><a href="#cb64-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-368"><a href="#cb64-368" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Mit ggplot</span></span>
<span id="cb64-369"><a href="#cb64-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-372"><a href="#cb64-372" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-373"><a href="#cb64-373" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb64-374"><a href="#cb64-374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-375"><a href="#cb64-375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb64-376"><a href="#cb64-376" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-377"><a href="#cb64-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-378"><a href="#cb64-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-379"><a href="#cb64-379" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Sieht nicht so schön aus</span></span>
<span id="cb64-380"><a href="#cb64-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-381"><a href="#cb64-381" aria-hidden="true" tabindex="-1"></a>Hm, unser Punktediagramm sieht nicht übersichtlich aus. Besser wäre es, die Punkte absteigend zu sortieren.</span>
<span id="cb64-382"><a href="#cb64-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-383"><a href="#cb64-383" aria-hidden="true" tabindex="-1"></a>Betrachten wir dazu die Variable <span class="in">`country`</span> näher: Es handelt sich um eine Character-Variable:</span>
<span id="cb64-384"><a href="#cb64-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-387"><a href="#cb64-387" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-388"><a href="#cb64-388" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(oecd)</span>
<span id="cb64-389"><a href="#cb64-389" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-390"><a href="#cb64-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-391"><a href="#cb64-391" aria-hidden="true" tabindex="-1"></a>Eine Variable des Typs <span class="in">`character`</span> steht für Text, z.B. <span class="in">`"Germany"`</span>.</span>
<span id="cb64-392"><a href="#cb64-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-393"><a href="#cb64-393" aria-hidden="true" tabindex="-1"></a>Offensichtlich sind diese alphabetisch geordnet -- nach dieser Ordnung richtet sich die Ordnung im Diagramm.</span>
<span id="cb64-394"><a href="#cb64-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-395"><a href="#cb64-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-396"><a href="#cb64-396" aria-hidden="true" tabindex="-1"></a><span class="fu">### Umwandling in eine Faktor-Variable</span></span>
<span id="cb64-397"><a href="#cb64-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-398"><a href="#cb64-398" aria-hidden="true" tabindex="-1"></a>In solchen Fällen bietet es sich an, die Character-Variable in eine *Factor-Variable* umzuwandeln; dann geht das Weitere einfacher.</span>
<span id="cb64-399"><a href="#cb64-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-400"><a href="#cb64-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-403"><a href="#cb64-403" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-404"><a href="#cb64-404" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="ot">&lt;-</span> </span>
<span id="cb64-405"><a href="#cb64-405" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb64-406"><a href="#cb64-406" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">factor</span>(Country))</span>
<span id="cb64-407"><a href="#cb64-407" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-408"><a href="#cb64-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-409"><a href="#cb64-409" aria-hidden="true" tabindex="-1"></a>Übrigens:</span>
<span id="cb64-410"><a href="#cb64-410" aria-hidden="true" tabindex="-1"></a>Möchte man wissen, wie viele *unterschiedliche* Werte eine Variable enthält, dann kann die Funktion <span class="in">`distinct()`</span> verwenden:</span>
<span id="cb64-411"><a href="#cb64-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-414"><a href="#cb64-414" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-415"><a href="#cb64-415" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb64-416"><a href="#cb64-416" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Country)</span>
<span id="cb64-417"><a href="#cb64-417" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-418"><a href="#cb64-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-419"><a href="#cb64-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-420"><a href="#cb64-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-421"><a href="#cb64-421" aria-hidden="true" tabindex="-1"></a><span class="fu">## Ranking und Top-10-Prozent der Zufriedenheit</span></span>
<span id="cb64-422"><a href="#cb64-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-423"><a href="#cb64-423" aria-hidden="true" tabindex="-1"></a><span class="fu">### Top-10</span></span>
<span id="cb64-424"><a href="#cb64-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-425"><a href="#cb64-425" aria-hidden="true" tabindex="-1"></a>Schauen wir uns die "Happy-Top-10" an, die 10 Länder mit der höchsten Lebenszufriedenheit:</span>
<span id="cb64-426"><a href="#cb64-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-427"><a href="#cb64-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-430"><a href="#cb64-430" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-431"><a href="#cb64-431" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb64-432"><a href="#cb64-432" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>Life_satisfaction) <span class="sc">%&gt;%</span>  <span class="co"># absteigend sortieren</span></span>
<span id="cb64-433"><a href="#cb64-433" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country, Life_satisfaction) <span class="sc">%&gt;%</span> </span>
<span id="cb64-434"><a href="#cb64-434" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb64-435"><a href="#cb64-435" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-436"><a href="#cb64-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-437"><a href="#cb64-437" aria-hidden="true" tabindex="-1"></a><span class="fu">### Die oberen 10% der Zufriedenheit</span></span>
<span id="cb64-438"><a href="#cb64-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-439"><a href="#cb64-439" aria-hidden="true" tabindex="-1"></a>Mit welcher Lebenszufriedenheit gehört ein Land zu den Top-10-Prozent der zufriedenen Länder?</span>
<span id="cb64-440"><a href="#cb64-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-443"><a href="#cb64-443" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-444"><a href="#cb64-444" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb64-445"><a href="#cb64-445" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">quantile</span>(Life_satisfaction, <span class="at">probs =</span> .<span class="dv">90</span>))</span>
<span id="cb64-446"><a href="#cb64-446" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-447"><a href="#cb64-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-448"><a href="#cb64-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-449"><a href="#cb64-449" aria-hidden="true" tabindex="-1"></a>Ah, Länder mit einer Lebenszufriedenheit von mind. <span class="in">`r mosaic::quantile(~Life_satisfaction, data = oecd_short, probs = .90)`</span> gehören zu den oberen Top-10-Prozent. </span>
<span id="cb64-450"><a href="#cb64-450" aria-hidden="true" tabindex="-1"></a>Filtern wir mal entsprechend:</span>
<span id="cb64-451"><a href="#cb64-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-452"><a href="#cb64-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-455"><a href="#cb64-455" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-456"><a href="#cb64-456" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb64-457"><a href="#cb64-457" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Life_satisfaction <span class="sc">&gt;=</span> <span class="fl">9.7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb64-458"><a href="#cb64-458" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country, Life_satisfaction)</span>
<span id="cb64-459"><a href="#cb64-459" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-460"><a href="#cb64-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-461"><a href="#cb64-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-462"><a href="#cb64-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-463"><a href="#cb64-463" aria-hidden="true" tabindex="-1"></a><span class="fu">## Vertiefung</span></span>
<span id="cb64-464"><a href="#cb64-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-465"><a href="#cb64-465" aria-hidden="true" tabindex="-1"></a>Ändern wir die Sortierung! Mit <span class="in">`reorder()`</span> kann man die Sortierung ändern (re-ordnen, daher der Name):</span>
<span id="cb64-466"><a href="#cb64-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-469"><a href="#cb64-469" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-470"><a href="#cb64-470" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="ot">&lt;-</span> </span>
<span id="cb64-471"><a href="#cb64-471" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb64-472"><a href="#cb64-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country_sorted =</span> <span class="fu">reorder</span>(Country, Life_satisfaction)) </span>
<span id="cb64-473"><a href="#cb64-473" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-474"><a href="#cb64-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-475"><a href="#cb64-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-476"><a href="#cb64-476" aria-hidden="true" tabindex="-1"></a>Ist das jetzt geordnet? <span class="in">`str()`</span> (wie <span class="in">`str`</span>ucture) verrät es uns:</span>
<span id="cb64-477"><a href="#cb64-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-480"><a href="#cb64-480" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-481"><a href="#cb64-481" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(oecd_short_reordered)</span>
<span id="cb64-482"><a href="#cb64-482" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-483"><a href="#cb64-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-484"><a href="#cb64-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-485"><a href="#cb64-485" aria-hidden="true" tabindex="-1"></a>Wie man sieht, ist <span class="in">`Country_sorted`</span> jetzt anders sortiert.</span>
<span id="cb64-486"><a href="#cb64-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-487"><a href="#cb64-487" aria-hidden="true" tabindex="-1"></a>Visualisieren wir das Ergebnis:</span>
<span id="cb64-488"><a href="#cb64-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-489"><a href="#cb64-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-490"><a href="#cb64-490" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit DataExplorer</span></span>
<span id="cb64-491"><a href="#cb64-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-494"><a href="#cb64-494" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-495"><a href="#cb64-495" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb64-496"><a href="#cb64-496" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country_sorted, Life_satisfaction) <span class="sc">|&gt;</span> </span>
<span id="cb64-497"><a href="#cb64-497" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"Life_satisfaction"</span>)</span>
<span id="cb64-498"><a href="#cb64-498" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-499"><a href="#cb64-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-500"><a href="#cb64-500" aria-hidden="true" tabindex="-1"></a>Oh, <span class="in">`DataExplorer`</span> macht die Reihenfolge wieder kaputt.</span>
<span id="cb64-501"><a href="#cb64-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-502"><a href="#cb64-502" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit ggpubr</span></span>
<span id="cb64-503"><a href="#cb64-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-506"><a href="#cb64-506" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-507"><a href="#cb64-507" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb64-508"><a href="#cb64-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggscatter</span>(<span class="at">x =</span> <span class="st">"Country_sorted"</span>,</span>
<span id="cb64-509"><a href="#cb64-509" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="st">"Life_satisfaction"</span>)</span>
<span id="cb64-510"><a href="#cb64-510" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-511"><a href="#cb64-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-512"><a href="#cb64-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-513"><a href="#cb64-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-514"><a href="#cb64-514" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit ggplot</span></span>
<span id="cb64-515"><a href="#cb64-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-518"><a href="#cb64-518" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-519"><a href="#cb64-519" aria-hidden="true" tabindex="-1"></a>plot_sorted <span class="ot">&lt;-</span> oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-520"><a href="#cb64-520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-521"><a href="#cb64-521" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb64-522"><a href="#cb64-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-523"><a href="#cb64-523" aria-hidden="true" tabindex="-1"></a>plot_sorted</span>
<span id="cb64-524"><a href="#cb64-524" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-525"><a href="#cb64-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-526"><a href="#cb64-526" aria-hidden="true" tabindex="-1"></a>Schon besser. Man kann z.B. die Achsen nicht lesen <span class="in">`r emo::ji("sad")`</span>. Was könnte man da bloß tun?</span>
<span id="cb64-527"><a href="#cb64-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-528"><a href="#cb64-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-529"><a href="#cb64-529" aria-hidden="true" tabindex="-1"></a><span class="fu">### Achsenu um 90 Grad drehen</span></span>
<span id="cb64-530"><a href="#cb64-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-531"><a href="#cb64-531" aria-hidden="true" tabindex="-1"></a>Mit <span class="in">`+ coord_flip()`</span> lassen sich die Achsen um 90 Grad drehen:</span>
<span id="cb64-532"><a href="#cb64-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-535"><a href="#cb64-535" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-536"><a href="#cb64-536" aria-hidden="true" tabindex="-1"></a>plot_sorted <span class="sc">+</span> <span class="fu">coord_flip</span>()</span>
<span id="cb64-537"><a href="#cb64-537" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-538"><a href="#cb64-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-539"><a href="#cb64-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-540"><a href="#cb64-540" aria-hidden="true" tabindex="-1"></a>Schön <span class="in">`r emo::ji("smile")`</span>.</span>
<span id="cb64-541"><a href="#cb64-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-542"><a href="#cb64-542" aria-hidden="true" tabindex="-1"></a>Man hätte das Sortieren und Achsen drehen auch in einem Haps machen können:</span>
<span id="cb64-543"><a href="#cb64-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-544"><a href="#cb64-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-547"><a href="#cb64-547" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-548"><a href="#cb64-548" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-549"><a href="#cb64-549" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-550"><a href="#cb64-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">coord_flip</span>()</span>
<span id="cb64-551"><a href="#cb64-551" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-552"><a href="#cb64-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-553"><a href="#cb64-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-554"><a href="#cb64-554" aria-hidden="true" tabindex="-1"></a>Aber übersichtlicher ist es, die Dinge nacheinander zu tun.</span>
<span id="cb64-555"><a href="#cb64-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-556"><a href="#cb64-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-557"><a href="#cb64-557" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mittelwert ins Diagramm</span></span>
<span id="cb64-558"><a href="#cb64-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-559"><a href="#cb64-559" aria-hidden="true" tabindex="-1"></a>Schön wäre es noch, im Bild den Mittelwert o.Ä. im Diagramm zu sehen:</span>
<span id="cb64-560"><a href="#cb64-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-563"><a href="#cb64-563" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-564"><a href="#cb64-564" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-565"><a href="#cb64-565" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-566"><a href="#cb64-566" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb64-567"><a href="#cb64-567" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">6.08</span>, <span class="at">data =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"firebrick"</span>) <span class="sc">+</span> </span>
<span id="cb64-568"><a href="#cb64-568" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb64-569"><a href="#cb64-569" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-570"><a href="#cb64-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-571"><a href="#cb64-571" aria-hidden="true" tabindex="-1"></a>Tja, die Wünsche hören nie auf... Wäre es nicht noch nett, wenn "Deutschland" hervorgehoben wäre, optisch, so dass es im Diagramm hervorsticht. Nehmen wir an, wir sind an diesem Land besonders interessiert.</span>
<span id="cb64-572"><a href="#cb64-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-575"><a href="#cb64-575" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-576"><a href="#cb64-576" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="ot">&lt;-</span> </span>
<span id="cb64-577"><a href="#cb64-577" aria-hidden="true" tabindex="-1"></a>  oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-578"><a href="#cb64-578" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_Germany =</span> Country <span class="sc">==</span> <span class="st">"Germany"</span>)</span>
<span id="cb64-579"><a href="#cb64-579" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-580"><a href="#cb64-580" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb64-581"><a href="#cb64-581" aria-hidden="true" tabindex="-1"></a>Damit haben wir eine Spalte erstellt, die angibt, ob ein Land Deutschland ist (<span class="in">`TRUE`</span>) oder nicht (<span class="in">`FALSE`</span>). Diese neue Variable nehmen wir her, um die Farbe, Größe und Form der Punkte zu bestimmen:</span>
<span id="cb64-582"><a href="#cb64-582" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb64-585"><a href="#cb64-585" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-586"><a href="#cb64-586" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-587"><a href="#cb64-587" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-588"><a href="#cb64-588" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> is_Germany, <span class="at">shape =</span> is_Germany, <span class="at">size =</span> is_Germany)) <span class="sc">+</span></span>
<span id="cb64-589"><a href="#cb64-589" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">6.08</span>, <span class="at">data =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"firebrick"</span>) <span class="sc">+</span> </span>
<span id="cb64-590"><a href="#cb64-590" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">6.08</span>, <span class="at">data =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"grey60"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb64-591"><a href="#cb64-591" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">16</span>, <span class="at">data =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"grey80"</span>) <span class="sc">+</span></span>
<span id="cb64-592"><a href="#cb64-592" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb64-593"><a href="#cb64-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-594"><a href="#cb64-594" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-595"><a href="#cb64-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-596"><a href="#cb64-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-597"><a href="#cb64-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-598"><a href="#cb64-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-599"><a href="#cb64-599" aria-hidden="true" tabindex="-1"></a><span class="fu">## Zusammenhang zweier metrischer Variablen -- Punktediagramm</span></span>
<span id="cb64-600"><a href="#cb64-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-601"><a href="#cb64-601" aria-hidden="true" tabindex="-1"></a>Hängt die Lebenszufriedenheit mit <span class="in">`Civic_engagment`</span> zusammen?</span>
<span id="cb64-602"><a href="#cb64-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-603"><a href="#cb64-603" aria-hidden="true" tabindex="-1"></a>Visualisieren wir diesen (möglichen) Zusammenhang.</span>
<span id="cb64-604"><a href="#cb64-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-605"><a href="#cb64-605" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit ggpubr</span></span>
<span id="cb64-606"><a href="#cb64-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-609"><a href="#cb64-609" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-610"><a href="#cb64-610" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb64-611"><a href="#cb64-611" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggscatter</span>(<span class="at">x =</span> <span class="st">"Civic_engagement"</span>,</span>
<span id="cb64-612"><a href="#cb64-612" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="st">"Life_satisfaction"</span>)</span>
<span id="cb64-613"><a href="#cb64-613" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-614"><a href="#cb64-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-615"><a href="#cb64-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-616"><a href="#cb64-616" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit DataExplorer</span></span>
<span id="cb64-617"><a href="#cb64-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-620"><a href="#cb64-620" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-621"><a href="#cb64-621" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb64-622"><a href="#cb64-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Civic_engagement, Life_satisfaction) <span class="sc">|&gt;</span> </span>
<span id="cb64-623"><a href="#cb64-623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"Life_satisfaction"</span>)</span>
<span id="cb64-624"><a href="#cb64-624" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-625"><a href="#cb64-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-626"><a href="#cb64-626" aria-hidden="true" tabindex="-1"></a>DataExplorer bietet den Vorteil, dass man einfach überprüfen kann, ob irgendeine Variable mit Lebenszufriedenheit zusammenhängt:</span>
<span id="cb64-627"><a href="#cb64-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-630"><a href="#cb64-630" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-631"><a href="#cb64-631" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb64-632"><a href="#cb64-632" aria-hidden="true" tabindex="-1"></a>  <span class="co">#select(Civic_engagement, Life_satisfaction) |&gt; </span></span>
<span id="cb64-633"><a href="#cb64-633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"Life_satisfaction"</span>)</span>
<span id="cb64-634"><a href="#cb64-634" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-635"><a href="#cb64-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-636"><a href="#cb64-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-637"><a href="#cb64-637" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mit ggplot</span></span>
<span id="cb64-638"><a href="#cb64-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-639"><a href="#cb64-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-642"><a href="#cb64-642" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-643"><a href="#cb64-643" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-644"><a href="#cb64-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Civic_engagement, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-645"><a href="#cb64-645" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb64-646"><a href="#cb64-646" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-647"><a href="#cb64-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-648"><a href="#cb64-648" aria-hidden="true" tabindex="-1"></a><span class="fu">### Insgesamt wenig Zusammenhang</span></span>
<span id="cb64-649"><a href="#cb64-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-650"><a href="#cb64-650" aria-hidden="true" tabindex="-1"></a>Hm, es ist kein starker Trend zu erkennen.</span>
<span id="cb64-651"><a href="#cb64-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-652"><a href="#cb64-652" aria-hidden="true" tabindex="-1"></a>Was sagt die Korrelation dazu:</span>
<span id="cb64-653"><a href="#cb64-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-656"><a href="#cb64-656" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-657"><a href="#cb64-657" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-658"><a href="#cb64-658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cor_ce_ls =</span> <span class="fu">cor</span>(Civic_engagement, Life_satisfaction))</span>
<span id="cb64-659"><a href="#cb64-659" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-660"><a href="#cb64-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-661"><a href="#cb64-661" aria-hidden="true" tabindex="-1"></a>Immerhin, kein ganz unwesentlicher Wert.</span>
<span id="cb64-662"><a href="#cb64-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-663"><a href="#cb64-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-664"><a href="#cb64-664" aria-hidden="true" tabindex="-1"></a><span class="fu">### Und so weiter</span></span>
<span id="cb64-665"><a href="#cb64-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-666"><a href="#cb64-666" aria-hidden="true" tabindex="-1"></a>Dieses Prinzip mit dem Punktediagramm könnte man jetzt weiterführen ad nauseam.</span>
<span id="cb64-667"><a href="#cb64-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-668"><a href="#cb64-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-669"><a href="#cb64-669" aria-hidden="true" tabindex="-1"></a><span class="fu">### Korrelationsdiagramm</span></span>
<span id="cb64-670"><a href="#cb64-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-671"><a href="#cb64-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-674"><a href="#cb64-674" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-675"><a href="#cb64-675" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-asp: 1.5</span></span>
<span id="cb64-676"><a href="#cb64-676" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb64-677"><a href="#cb64-677" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_correlation</span>()</span>
<span id="cb64-678"><a href="#cb64-678" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-679"><a href="#cb64-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-680"><a href="#cb64-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-681"><a href="#cb64-681" aria-hidden="true" tabindex="-1"></a><span class="fu">## Zusammenhang zweier Variablen unter Berücksichtigung von Drittvariablen</span></span>
<span id="cb64-682"><a href="#cb64-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-683"><a href="#cb64-683" aria-hidden="true" tabindex="-1"></a>Oben haben wir gesehen, dass Lebenszufriedenheit und Civiv Engagement zusammenhängen (zumindest ein bisschen).</span>
<span id="cb64-684"><a href="#cb64-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-685"><a href="#cb64-685" aria-hidden="true" tabindex="-1"></a>Aber vielleicht hängt dieser Zusammenhang wiederum von der finanziellen Absicherung ab? Nur wenn man materiell abgesichert ist, so könnte man argumentieren, wird bürgerliches Engagement (bzw. die Möglichkeit zu) eine Einflussgröße auf die Lebenszufriedenheit.</span>
<span id="cb64-686"><a href="#cb64-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-687"><a href="#cb64-687" aria-hidden="true" tabindex="-1"></a>Anders gesagt: Man könnte behaupten, der Zusammenahng von Lebenszufriedenheit und Civiv Engagement ist abhängig von einer dritten Variable, dem Einkommen.</span>
<span id="cb64-688"><a href="#cb64-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-689"><a href="#cb64-689" aria-hidden="true" tabindex="-1"></a>Um diese Frage zu untersuchen, teilen wir <span class="in">`Income`</span> in zwei Stufen, hoch und gering. Dann untersuchen wir jeweils den Zusammenhang von Lebenszufriedenheit und bürgerlichem Engagement.</span>
<span id="cb64-690"><a href="#cb64-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-691"><a href="#cb64-691" aria-hidden="true" tabindex="-1"></a>*Achtung*! Eine metrische Variablen in zwei Hälften zu spalten birgt einen hohen Informationsverlust. Da wir aber nur eine grobe Untersuchung vorhaben (und uns noch nicht fortgeschrittener Technik bedienen wollen), bleiben wir erstmal bei dieser sog. *Dichotomisierung*.</span>
<span id="cb64-692"><a href="#cb64-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-693"><a href="#cb64-693" aria-hidden="true" tabindex="-1"></a>Nehmen wir den Median des Einkommen als Teilungspunkt; man spricht von einem "Mediansplit":</span>
<span id="cb64-694"><a href="#cb64-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-697"><a href="#cb64-697" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-698"><a href="#cb64-698" aria-hidden="true" tabindex="-1"></a>oecd_short <span class="sc">%&gt;%</span> </span>
<span id="cb64-699"><a href="#cb64-699" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Income_md =</span> <span class="fu">median</span>(Income))</span>
<span id="cb64-700"><a href="#cb64-700" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-701"><a href="#cb64-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-702"><a href="#cb64-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-703"><a href="#cb64-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-704"><a href="#cb64-704" aria-hidden="true" tabindex="-1"></a>Zuerst erstellen wir eine Variable <span class="in">`Income_high`</span> mit den Stufen 0 (nein) und 1 (ja):</span>
<span id="cb64-705"><a href="#cb64-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-708"><a href="#cb64-708" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-709"><a href="#cb64-709" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="ot">&lt;-</span> </span>
<span id="cb64-710"><a href="#cb64-710" aria-hidden="true" tabindex="-1"></a>  oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-711"><a href="#cb64-711" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Income_high =</span> </span>
<span id="cb64-712"><a href="#cb64-712" aria-hidden="true" tabindex="-1"></a>           <span class="fu">case_when</span>( Income <span class="sc">&gt;=</span> <span class="fu">median</span>(Income) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb64-713"><a href="#cb64-713" aria-hidden="true" tabindex="-1"></a>                      Income <span class="sc">&lt;</span> <span class="fu">median</span>(Income) <span class="sc">~</span> <span class="dv">0</span>))</span>
<span id="cb64-714"><a href="#cb64-714" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-715"><a href="#cb64-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-716"><a href="#cb64-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-717"><a href="#cb64-717" aria-hidden="true" tabindex="-1"></a><span class="fu">### Visualisierung</span></span>
<span id="cb64-718"><a href="#cb64-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-719"><a href="#cb64-719" aria-hidden="true" tabindex="-1"></a>Jetzt plotten wir den Zusammenhang:</span>
<span id="cb64-720"><a href="#cb64-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-721"><a href="#cb64-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-722"><a href="#cb64-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-723"><a href="#cb64-723" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Mit ggpubr</span></span>
<span id="cb64-724"><a href="#cb64-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-727"><a href="#cb64-727" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-728"><a href="#cb64-728" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">|&gt;</span> </span>
<span id="cb64-729"><a href="#cb64-729" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggscatter</span>(<span class="at">y =</span> <span class="st">"Country_sorted"</span>,</span>
<span id="cb64-730"><a href="#cb64-730" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> <span class="st">"Life_satisfaction"</span>,</span>
<span id="cb64-731"><a href="#cb64-731" aria-hidden="true" tabindex="-1"></a>            <span class="at">facet.by =</span> <span class="st">"Income_high"</span>)</span>
<span id="cb64-732"><a href="#cb64-732" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-733"><a href="#cb64-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-734"><a href="#cb64-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-735"><a href="#cb64-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-736"><a href="#cb64-736" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Mit ggplot</span></span>
<span id="cb64-737"><a href="#cb64-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-740"><a href="#cb64-740" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-741"><a href="#cb64-741" aria-hidden="true" tabindex="-1"></a>income_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"arm"</span>, </span>
<span id="cb64-742"><a href="#cb64-742" aria-hidden="true" tabindex="-1"></a>                   <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span><span class="st">"reich"</span>)</span>
<span id="cb64-743"><a href="#cb64-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-744"><a href="#cb64-744" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-745"><a href="#cb64-745" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Country_sorted, <span class="at">y =</span> Life_satisfaction)) <span class="sc">+</span></span>
<span id="cb64-746"><a href="#cb64-746" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb64-747"><a href="#cb64-747" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Income_high, </span>
<span id="cb64-748"><a href="#cb64-748" aria-hidden="true" tabindex="-1"></a>             <span class="at">labeller =</span> <span class="fu">labeller</span>(<span class="at">Income_high =</span> income_labels))  <span class="sc">+</span></span>
<span id="cb64-749"><a href="#cb64-749" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb64-750"><a href="#cb64-750" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Länder"</span>,</span>
<span id="cb64-751"><a href="#cb64-751" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Lebenszufriedenheit"</span>,</span>
<span id="cb64-752"><a href="#cb64-752" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Lebenszufriedenheit in armen und reichen Ländern "</span>) <span class="sc">+</span></span>
<span id="cb64-753"><a href="#cb64-753" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb64-754"><a href="#cb64-754" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-755"><a href="#cb64-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-756"><a href="#cb64-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-757"><a href="#cb64-757" aria-hidden="true" tabindex="-1"></a><span class="fu">### Vertiefung: Korrelation pro Gruppe</span></span>
<span id="cb64-758"><a href="#cb64-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-759"><a href="#cb64-759" aria-hidden="true" tabindex="-1"></a>Um die Korrelation pro Gruppe zu erhalten, könnten wir jeweils einen Dataframe pro Gruppe erzeugen (mit <span class="in">`filter()`</span>) und dann jeweils die Korrelation von Zufriedenheit und Engagement berechnen.</span>
<span id="cb64-760"><a href="#cb64-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-761"><a href="#cb64-761" aria-hidden="true" tabindex="-1"></a>Eine andere, etwas elegantere Möglichkeit kann so aussehen:</span>
<span id="cb64-762"><a href="#cb64-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-765"><a href="#cb64-765" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-766"><a href="#cb64-766" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span></span>
<span id="cb64-767"><a href="#cb64-767" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Income_high) <span class="sc">%&gt;%</span> </span>
<span id="cb64-768"><a href="#cb64-768" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cor_zuf_eng =</span> <span class="fu">cor</span>(Life_satisfaction, Civic_engagement))</span>
<span id="cb64-769"><a href="#cb64-769" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-770"><a href="#cb64-770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-771"><a href="#cb64-771" aria-hidden="true" tabindex="-1"></a>Interessanterweise ist die Korrelation durchaus verschieden in den beiden Gruppen.</span>
<span id="cb64-772"><a href="#cb64-772" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-773"><a href="#cb64-773" aria-hidden="true" tabindex="-1"></a>Natürlich sind die beiden Gruppen nur Stichproben - es stellt sich die Frage, ob die Unterschiede nur durch Zufälligkeiten des Stichprobenziehens entstanden sind oder auch in der Grundgesatmtheit der "reichen" und "armen" Ländern existieren? Dazu später mehr!</span>
<span id="cb64-774"><a href="#cb64-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-775"><a href="#cb64-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-776"><a href="#cb64-776" aria-hidden="true" tabindex="-1"></a><span class="fu">## Deskriptive Statistiken nach Ländern</span></span>
<span id="cb64-777"><a href="#cb64-777" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb64-778"><a href="#cb64-778" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb64-779"><a href="#cb64-779" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lebenszufriedenheit</span></span>
<span id="cb64-780"><a href="#cb64-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-781"><a href="#cb64-781" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Mit `easystats`</span></span>
<span id="cb64-782"><a href="#cb64-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-783"><a href="#cb64-783" aria-hidden="true" tabindex="-1"></a>Das ist relativ einfach:</span>
<span id="cb64-784"><a href="#cb64-784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-787"><a href="#cb64-787" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-788"><a href="#cb64-788" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-789"><a href="#cb64-789" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Life_satisfaction) <span class="sc">%&gt;%</span> </span>
<span id="cb64-790"><a href="#cb64-790" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe_distribution</span>()</span>
<span id="cb64-791"><a href="#cb64-791" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-792"><a href="#cb64-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-793"><a href="#cb64-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-794"><a href="#cb64-794" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Mit `tidyverse` </span></span>
<span id="cb64-795"><a href="#cb64-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-798"><a href="#cb64-798" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb64-799"><a href="#cb64-799" aria-hidden="true" tabindex="-1"></a>oecd_short_reordered <span class="sc">%&gt;%</span> </span>
<span id="cb64-800"><a href="#cb64-800" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">satis_mean =</span> <span class="fu">mean</span>(Life_satisfaction),</span>
<span id="cb64-801"><a href="#cb64-801" aria-hidden="true" tabindex="-1"></a>            <span class="at">satis_median =</span> <span class="fu">median</span>(Life_satisfaction),</span>
<span id="cb64-802"><a href="#cb64-802" aria-hidden="true" tabindex="-1"></a>            <span class="at">satis_sd =</span> <span class="fu">sd</span>(Life_satisfaction),</span>
<span id="cb64-803"><a href="#cb64-803" aria-hidden="true" tabindex="-1"></a>            <span class="at">satis_iqr =</span> <span class="fu">IQR</span>(Life_satisfaction))</span>
<span id="cb64-804"><a href="#cb64-804" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-805"><a href="#cb64-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-806"><a href="#cb64-806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-807"><a href="#cb64-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-808"><a href="#cb64-808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-809"><a href="#cb64-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-810"><a href="#cb64-810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-811"><a href="#cb64-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-812"><a href="#cb64-812" aria-hidden="true" tabindex="-1"></a><span class="fu"># Reproducibility</span></span>
<span id="cb64-813"><a href="#cb64-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-814"><a href="#cb64-814" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reproducibility, echo = FALSE}</span></span>
<span id="cb64-815"><a href="#cb64-815" aria-hidden="true" tabindex="-1"></a><span class="in">## Reproducibility info</span></span>
<span id="cb64-816"><a href="#cb64-816" aria-hidden="true" tabindex="-1"></a><span class="in">options(width = 120)</span></span>
<span id="cb64-817"><a href="#cb64-817" aria-hidden="true" tabindex="-1"></a><span class="in">devtools::session_info()</span></span>
<span id="cb64-818"><a href="#cb64-818" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb64-819"><a href="#cb64-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-820"><a href="#cb64-820" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>