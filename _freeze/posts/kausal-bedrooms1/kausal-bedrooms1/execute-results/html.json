{
  "hash": "99e379083197d58d5f2ee0dffe9a080d",
  "result": {
    "markdown": "---\nextype: string\nexsolution: NA\nexname: bedroom-dag1\nexpoints: 1\ncategories:\n- dag\n- causal\ndate: '2022-12-19'\nslug: kausal-bedrooms1\ntitle: kausal-bedrooms1\n\n---\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n\n# Exercise\n\nBetrachten wir den Datensatz `SaratogaHouses`, den Sie [hier](https://vincentarelbundock.github.io/Rdatasets/csv/mosaicData/SaratogaHouses.csv) herunterladen können. \nEin Codebook findet sich [hier](https://vincentarelbundock.github.io/Rdatasets/doc/mosaicData/SaratogaHouses.html).\n\n\nSie kommen auch so an die Daten ran:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(mosaicData)\ndata(\"SaratogaHouses\")\n```\n:::\n\n\nGegeben sei in diesem Zusammenhang folgender DAG:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndag1 <- \"\ndag{\na -> p\na -> b -> p\n}\n\"\n```\n:::\n\n\nWobei `a` für *(living) area* steht, also der Wohnfläche eines Hauses, \n`b` für *bedrooms*, der Anzahl der Schlafzimmer\nund `p` für *prize*, den Preis, den das Haus beim Verkauf erzielt hat.\n\nSo sieht das dann aus:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggdag(dag1) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-4-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n\nUV sei `a`; AV sei `p`.\n\na) Berechnen Sie den *direkten* Effekt der *Wohnfläche* auf den *Preis*! \nb) Berechnen Sie den *totalen* Effekt der Wohnfläche auf den Preis!\n\nHinweise:\n- Mit *direkter* Effekt ist der kausale Effekt von UV auf AV - ohne Zwischenglieder (Mediatoren) - gemeint.\n- Mit *indirekter* Effekt ist der kausale Effekt von UV über einen (oder ggf. mehrere) Mediator(en) auf die AV gemeint.\n- Mit *totaler* Effekt ist die Summe des direkten plus des oder der indirekten Effekte gemeint.\n- Geben Sie jeweils den Punktschätzer eines linearen Regressionsmodells an!\n- Gehen Sie vom oben genannten DAG aus.\n- Runden Sie ohne Dezimalstellen.\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Solution\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd <-\n  SaratogaHouses %>% \n  select(price, bedrooms, livingArea) %>% \n  drop_na()\n```\n:::\n\n\n\na) direkter Effekt:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndirekter_eff_lm <-\n  stan_glm(price ~ bedrooms + livingArea, \n           data = d,\n           refresh = 0)\ncoef(direkter_eff_lm)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(Intercept)    bedrooms  livingArea \n 36852.3683 -14263.9997    125.4254 \n```\n:::\n:::\n\n\n\nUm einen direkten Effekt zu berechnen, müssen wir den *spezifischen*, \nuniquen Effekt der UV berechnen.\nDas erreichen wir durch eine multiple Regression,\nin der also die übrigen Prädiktoren aufgenommen sind. \nDas Resultat ist ein Koeffizient für die Assoziation der UV mit der AV,\nbereinigt um die Zusammenhänge der übrigen Prädiktoren.\n\nZur Erinnerung: Die multiple Regression liefert Koeffizienten pro Prädiktor,\ndie bereinigt sind um den (statistischen) Einfluss der anderen Prädiktoren,\nmit anderne Worten: die Koeffizienten der multiplen Regression zeigen den Effekt\nvon \"nur diesem Prädiktor\".\n\n\n\nDer Punktschätzer für den direkten Effekt (von Wohnfläche) ist:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndirekter_eff <-\n  coef(direkter_eff_lm)[3] %>% \n  round(0)\n\ndirekter_eff\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nlivingArea \n       125 \n```\n:::\n:::\n\n\n\nb) totaler Effekt:\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n(Intercept)  livingArea \n 13388.0637    113.1216 \n```\n:::\n:::\n\n\n\nDer totale Effekt lässt sich berechnen,\nin dem man keine weiteren Prädiktoren neben der UV in die Regression mitaufnimmt.\nDie *einfache* (univariate) Regression zeigt den totalen Effekt der UV auf die AV.\n\n\n\n\n\nDer Punktschätzer für den totalen Effekt beträgt:\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\nlivingArea \n       113 \n```\n:::\n:::\n\n\n\n\n\n---\n\nCategories: \n\n- dag\n- causal\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}