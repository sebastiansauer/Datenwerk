{
  "hash": "360c2b6ecb02352a013ec24e4ec03393",
  "result": {
    "engine": "knitr",
    "markdown": "---\ndate: today\ndraft: FALSE   # ACHTUNG DRAFT STEHT AUF TRUE!\ntitle: Wskt-Schluckspecht \n\nexecute: \n  eval: true \n  \nhighlight-style: arrow \ncache: true\n\n\nextype: string\nexsolution: \"\"\nexshuffle: no\ncategories:\n- post  # ENTER CATEGORIES HERE\n- bayes\n- regression\n\n---\n\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\n\nPrüfen Sie folgende Hypothese:\n\n>    Autos mit viel PS haben einen höheren Spritverbrauch als Autos mit wenig PS.\n\n\nQuantifizieren Sie die Wahrscheinlichkeit dieser Hypothese!\n\nHinweise:\n\n- \"viel PS\" definieren wir als \"mehr als der Median\".\n- Verwenden Sie den Datensatz `mtcars`.\n- Nutzen Sie die Bayes-Statistik mit `Stan`. \n- Beachten Sie die [Standardhinweise des Datenwerks](https://datenwerk.netlify.app/hinweise).\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rstanarm)\nlibrary(easystats)\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(mtcars)\n```\n:::\n\n\n\n## Modell\n\nDie Hypothese kann man wie folgt formalisieren:\n\n$$\\text{mpg}_{PS=0} > \\text{mpg}_{PS=1}$$,\n\nwobei $PS=0$ die Autos mit wenig PS meint.\n\n\n## Vorverarbeitung\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars <-\n  mtcars |> \n  mutate(PS = case_when(\n    mpg > median(mpg) ~ 1,\n    mpg <= median(mpg) ~ 0\n  ))\n```\n:::\n\n\n\n## Modell berechnen\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm <- stan_glm(mpg ~ PS,\n              data = mtcars,\n              refresh = 0,\n              seed = 42)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nparameters(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nParameter   | Median |         95% CI |   pd |  Rhat |     ESS |                   Prior\n----------------------------------------------------------------------------------------\n(Intercept) |  15.68 | [13.81, 17.54] | 100% | 1.000 | 3302.00 | Normal (20.09 +- 15.07)\nPS          |   9.42 | [ 6.79, 12.12] | 100% | 1.000 | 3549.00 |  Normal (0.00 +- 29.72)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nUncertainty intervals (equal-tailed) and p-values (two-tailed) computed\n  using a MCMC distribution approximation.\n```\n\n\n:::\n:::\n\n\n\n\n\n## Post-Verteilung auslesen\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm_post <-\n  m |>\n  as_tibble()\n\nprop <- \nm_post |> \n  count(PS >= 0) |> \n  mutate(prop = n/sum(n))\n\nprop\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  `PS >= 0`     n  prop\n  <lgl>     <int> <dbl>\n1 TRUE       4000     1\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n## Antwort\n\nLaut unserem Modell beträgt die Wahrscheinlichkeit für obige Hypothese 1.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}