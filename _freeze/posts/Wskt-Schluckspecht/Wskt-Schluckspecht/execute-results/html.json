{
  "hash": "a73c5b794e2687451e26ddec1e5c23ef",
  "result": {
    "engine": "knitr",
    "markdown": "---\ndate: 2023-12-12 \ndraft: FALSE   # ACHTUNG DRAFT STEHT AUF TRUE!\ntitle: Wskt-Schluckspecht \n\nexecute: \n  eval: true \n  \nhighlight-style: arrow \ncache: true\n\n\nextype: string\nexsolution: \"\"\nexshuffle: no\ncategories:\n- post  # ENTER CATEGORIES HERE\n- bayes\n- regression\n- mtcars\n\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\n\nPrüfen Sie folgende Hypothese:\n\n>    Autos mit viel PS haben einen höheren Spritverbrauch als Autos mit wenig PS.\n\n\nQuantifizieren Sie die Wahrscheinlichkeit dieser Hypothese!\n\nHinweise:\n\n- \"viel PS\" definieren wir als \"mehr als der Median\".\n- Verwenden Sie den Datensatz `mtcars`.\n- Nutzen Sie die Bayes-Statistik mit `Stan`. \n- Beachten Sie die [Standardhinweise des Datenwerks](https://datenwerk.netlify.app/hinweise).\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rstanarm)\nlibrary(easystats)\nlibrary(tidyverse)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(mtcars)\n```\n:::\n\n\n\n## Modell\n\nDie Hypothese kann man wie folgt formalisieren:\n\n$$\\text{mpg}_{PS=0} > \\text{mpg}_{PS=1}$$,\n\nwobei $PS=0$ die Autos mit wenig PS meint.\n\n\n## Vorverarbeitung\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars <-\n  mtcars |> \n  mutate(PS = case_when(\n    mpg > median(mpg) ~ 1,\n    mpg <= median(mpg) ~ 0\n  ))\n```\n:::\n\n\n\n## Modell berechnen\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm <- stan_glm(mpg ~ PS,\n              data = mtcars,\n              refresh = 0,\n              seed = 42)\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nparameters(m)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter   |    Median|   CI|    CI_low|  CI_high| pd|      Rhat|      ESS|Prior_Distribution | Prior_Location| Prior_Scale|\n|:-----------|---------:|----:|---------:|--------:|--:|---------:|--------:|:------------------|--------------:|-----------:|\n|(Intercept) | 15.676776| 0.95| 13.809508| 17.53648|  1| 0.9996718| 3301.939|normal             |       20.09062|    15.06737|\n|PS          |  9.418845| 0.95|  6.789333| 12.12306|  1| 0.9997315| 3548.579|normal             |        0.00000|    29.71825|\n\n</div>\n:::\n:::\n\n\n\n\n\n## Post-Verteilung auslesen\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm_post <-\n  m |>\n  as_tibble()\n\nprop <- \nm_post |> \n  count(PS >= 0) |> \n  mutate(prop = n/sum(n))\n\nprop\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|PS >= 0 |    n| prop|\n|:-------|----:|----:|\n|TRUE    | 4000|    1|\n\n</div>\n:::\n:::\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n## Antwort\n\nLaut unserem Modell beträgt die Wahrscheinlichkeit für obige Hypothese 1.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}