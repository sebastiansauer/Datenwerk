{
  "hash": "318208ef03e520a0a125ab19b0eac25f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ndate: 2024-05-07  # HEUTIGES DATUM EINTRAGEN\ndraft: FALSE   # ACHTUNG DRAFT STEHT AUF TRUE!\ntitle: smartphone1\n\nexecute: \n  eval: true \n  \nhighlight-style: arrow \ncache: true\n\ntoc: true\nnumber-sections: true\n\nextype: string\nexsolution: \"\"\nexshuffle: no\ncategories:\n- R  # ENTER CATEGORIES HERE\n- eda\n- datawrangling\n- vis \n- yacsda\n\n\n  # - bib/bib.bib\nbibliography: \"../../ses.bib\"\n\n\n\n---\n\n\n\n\n\n\n\n# Aufgabe\n\n\n*In dieser Fallstudie analysieren Sie die Ergebnisse einer Umfrage zum Thema Smartphone-Nutzung. *\n\nKernst√ºck der Umfrage ist die Smartphone-Sucht-Skala [@kwon_smartphone_2013]. Eine Studie fand, dass ca. ein Siebtel der Studierenden s√ºchtig nach ihrem Smartphone sind [@haug_smartphone_2015]; demnach k√∂nnte dem Thema eine hohe Bedeutsamkeit zukommen.\n\n1. Importieren Sie den [Datensatz zur Handynutzung](https://docs.google.com/spreadsheets/d/1SWMj4rIIIJdAsfsSKQHSg8jHr_OuKLpJx_0XV4LGnH0/edit?usp=sharing) von Google-Docs.\n2. Benennen Sie die Spalten um und zwar nach folgendem Muster: `itemXY`, wobei `XY` die Nummer der Spalte ist. Sichern Sie die urspr√ºnglichen Spaltennamen in einem Vektor. Tipp: Der Funktion `names(meine_tabelle)` k√∂nnen Sie einen Vektor mit neuen Spaltennamen √ºbergeben.\n3. Berechnen Sie f√ºr die Items der Smartphone-Addiction-Scale den Mittelwert pro Person. Tipp: Erstellen Sie einen Dataframe mit den entsprechenden Items und nutzen Sie dann die Funktion `rowMeans(mein_dataframe)`, um den Mittelwert √ºber mehrere Spalten f√ºr jede Zeile zu berechnen (\"Score\").\n4. Visualisieren Sie die Verteilung des Scores getrennt f√ºr die Geschlechter.\n5. Nach einer Quelle [@kwon_smartphone_2013] liegt der Cutoff-Wert f√ºr Sucht bei 3.1 (M√§nner) bzw. 3.3 (Frauen). Bestimmen Sie den Anteil abh√§ngiger Personen (pro Geschlecht).\n6. Das Item `i13` ist ein Versuch, mit einem *einzelnen* Item zu messen, ob jemand s√ºchtig nach seinem Smartphone ist (Item-Label: \"Ich.w√ºrde.sagen..dass.ich.smartphone.s√ºchtig.bin.\"). Visualisieren Sie den Zusammenhang dieses Items mit dem Score.\n6. Visualsieren Sie den Anteil abh√§ngiger Personen.\n7. Berechnen Sie, wie viel Geld f√ºr das zuletzt gekaufte Handy im Schnitt ausgegeben wurde. Gruppieren Sie dabei nach dem Betriebsystem.\n8. Wer gibt mehr Geld f√ºr das Handy aus: Frauen oder M√§nner? Beantworten Sie die Frage anhand des Medians. \n9. Visualisieren Sie den Median des Geldausgebens f√ºr das Handy, getrennt nach Geschlechtern\n\n\n:::{.callout-tip}\nNutzen Sie ChatGPT oder einen anderen Bot, um sich Hilfe mit dem R-Code zu holen. $\\square$\n:::\n\n:::{.callout-tip}\nEs wird (fast) nie von Ihnen verlangt, dass Sie eine Aufgabe mit einem bestimmten R-Befehl l√∂sen. \nWenn Ihnen ein bestimmter R-Befehl nicht zusagt (oder Sie ihn nicht kennen oder verstehen) -- dann nehmen Sie einfach einen anderen R-Befehl, der Ihnen mehr zusagt. $\\square$\n:::\n\n\n:::{.callout-note}\nBeachten Sie die [Hinweise des Datenwerks](https://datenwerk.netlify.app/hinweise). $\\square$\n:::\n\n\n\n# L√∂sung\n\n\n\n\n\n\n\n\n\n\n\n\n## Daten importieren\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_path <- \"https://raw.githubusercontent.com/sebastiansauer/statistik1/main/data/Smartphone-Nutzung%20(Responses)%20-%20Form%20responses%201.csv\"\nsmartphone_raw <- read.csv(data_path)\n```\n:::\n\n\n\n\n\nDie Anzahl der Spalten einer Tabelle kann man sich √ºbrigens z.B. mit `ncol` ausgeben lassen:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanz_spalten <- ncol(smartphone_raw)\nanz_spalten\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 18\n```\n\n\n:::\n:::\n\n\n\n\n\nUnsere Datentabelle hat also 18 Spalten.\n\n## Spalten umbenennen\n\nZun√§chst sichern wir die alten Spaltennamen in einen Vektor:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nitem_labels_old <- names(smartphone_raw)\nitem_labels_old\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Timestamp\"                                                                                                        \n [2] \"Wann.haben.Sie.heute.zum.letzten.Mal.Ihr.Handy.benutzt..Bitte.geben.Sie.die.Uhrzeit.an.\"                          \n [3] \"Aufgrund.meiner.Smartphone.Nutzung.erledige.ich.geplante.Aufgaben.nicht.\"                                         \n [4] \"Aufgrund.meiner.Smartphone.Nutzung.f√§llt.es.mir.schwer..mich.in.der.Schule.oder.Arbeit.zu.konzentrieren.\"         \n [5] \"Bei.der.Nutzung.des.Smartphones.bekomme.ich.Schmerzen.in.Handgelenk.oder.Nacken.\"                                 \n [6] \"Ich.w√ºrde.es.nicht.aushalten..kein.Smartphone.zu.haben.\"                                                          \n [7] \"Wenn.ich.mein.Smartphone.nicht.in.der.Hand.habe..f√ºhle.ich.mich.unruhig.und.gereizt.\"                             \n [8] \"Ich.denke.st√§ndig.an.mein.Smartphone..auch.wenn.ich.es.nicht.benutze.\"                                            \n [9] \"Ich.werde.nie.aufh√∂ren..mein.Smartphone.zu.benutzen..selbst.wenn.mein.Alltag.bereits.stark.davon.beeinflusst.ist.\"\n[10] \"Ich.schaue.st√§ndig.auf.mein.Smartphone..um.keine.Neuigkeiten.zu.verpassen.\"                                       \n[11] \"Ich.benutze.mein.Smartphone.l√§nger.als.ich.es.vorhabe.\"                                                           \n[12] \"Die.Menschen.in.meinem.Umfeld.sagen.mir..dass.ich.mein.Smartphone.zu.h√§ufig.nutze.\"                               \n[13] \"Ich.w√ºrde.sagen..dass.ich.smartphone.s√ºchtig.bin.\"                                                                \n[14] \"Hier.ist.Platz.f√ºr.Ihre.Kommentare\"                                                                               \n[15] \"Bitte.geben.Sie.Ihr.Geschlecht.an.\"                                                                               \n[16] \"Bitte.geben.Sie.Ihr.Alter.an.\"                                                                                    \n[17] \"Bitte.geben.Sie.das.Betriebssystem.Ihres..am.meisten.genutzten..Handies.an.\"                                      \n[18] \"Wie.viel.Geld.haben.Sie.f√ºr.Ihr.zuletzt.gekauftes.Handy.gezahlt.\"                                                 \n```\n\n\n:::\n:::\n\n\n\n\n\nVariablen aus psychologischen Frageb√∂gen nennt man √ºbrigens oft *items*.\n\nUnd dann nennen wir die Spaltennamen um. Das geht mit der Funktion `names(smartphone_raw) <- `, der wir einen Vektor mit neuen Spaltennamen √ºbergeben, z.B. so:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nitem_labels_new <- c( \"item1\",  \"item2\", \"item3\", \"item4\",\n                      \"item5\", \"item6\",  \"item7\", \"item8\",\n                      \"item9\",  \"item10\", \"item11\", \"item12\",\n                      \"item13\", \"item14\", \"item15\", \"item16\",\n                      \"item17\", \"item18\")\n```\n:::\n\n\n\n\n\nWichtig ist, dass ihr Vektor `item_labels_new` genau so viele Elemente hat, wie die Datentabelle Spalten hat. \n\nJetzt k√∂nnen Sie der Funktion `names()` den neuen Vektor `item_labels_new` zuweisen und haben damit die Spaltenanmen ge√§ndert:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(smartphone_raw) <- item_labels_new\n```\n:::\n\n\n\n\n\n\nDen Vektor `item_labels_new` zu erstellen, war Ihnen zu viel Tipperei? Ja, mir auch.\nSchneller geht's mit der Funktion `paste0`.\nDas erkl√§rt sich am einfachsten mit einem Beispiel:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npaste0(\"item\", 1:3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"item1\" \"item2\" \"item3\"\n```\n\n\n:::\n:::\n\n\n\n\n\nSehen Sie, was `paste0` macht? Es f√ºgt zwei Vektoreneinen Rei√üverschluss zusammen. Da `item` nur aus einem Element besteht, wird es `item` einfach auf die richtige L√§nge erh√∂ht.\n\nDer Doppelpunkt in `1:3` bedeutet \"von 1 bis 3\".\n\nAlso:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(smartphone_raw) <- paste0(\"item\",1:anz_spalten)\n```\n:::\n\n\n\n\n\n\nSie m√∂chten lieber zweistellige Nummern f√ºr die Spalten, also 01, 02, ..., 09, 10, ...? Gute Idee. Aber wie macht man das?\nEine einfache L√∂sung: Fragen Sie ChatGPT!\n\n>    üë©‚Äçüéì: I want a string of the type \"itemXY\", where XY is a number between 0 and 18. Make sure to use two digits. Use the R function `paste0`.\n\n\n>     ü§ñ: üò∏\n\n\n## Vertiefung: Fingerabdruck der Datentabelle\n\nMit dem R-Paket `visdat` bekommt man einen \"Fingerabdruck\" der Datentabelle.\n\nAm einfachsten erkl√§rt sich das an einem Beispiel. Schauen Sie sich das folgende Diagramm mal an. Es zeigt Ihnen den Datentyp pro Spalte und au√üerdem fehlende Werte.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(visdat)\n\nvis_dat(smartphone_raw)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n\n\nDas ist deutlich √ºbersichtlicher als eine Excel-Tabelle, wenn es darum geht, die Datenstruktur grob zu verstehen.\n\n\n\n## Mittelwert der Smartphone-Addiction-Scale\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone_addiction_mittelwert <- \nsmartphone_raw |> \n  select(item3:item12) |> \n  rowMeans()\n```\n:::\n\n\n\n\n\nWir erhalten einen Vektor mit den Mittwerten (Score) pro Person f√ºr die Skala *Smartphone-Abh√§ngigkeit*:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(smartphone_addiction_mittelwert)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.0 3.8 2.7 3.2 4.2 3.3\n```\n\n\n:::\n:::\n\n\n\n\n\n\nDiesen Vektor f√ºgen wir dann unseren Daten hinzu. Au√üerdem benennen wir die Spalte `item15` in `sex` um, damit wir uns merken k√∂nnen, in welcher Spalte das Geschlecht codiert ist.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone <-\n  smartphone_raw |> \n  mutate(smartphone_addiction_mean = smartphone_addiction_mittelwert) |> \n  rename(sex = item15) |>   \n  filter(sex == \"Frau\" | sex == \"Mann\") \n```\n:::\n\n\n\n\n\n\nMit `rename(neuer_name = alter_name)` k√∂nnen Sie die Namen von Spalten Ihrer Datentabelle √§ndern.\n\n>    üßë‚Äçüéì  Also das mit `rename` h√§tte ich jetzt nicht gewusst.\n\n>    üë©‚Äçüè´ Dann frag mal ChatGPT.\n\n>    ü§ñ Ja, bitte!!\n\n\nAlternativ k√∂nnen Sie die folgende, etwas fortgeschrittenere Syntax nutzen:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone2 <- \nsmartphone_raw |> \n  rowwise() |> \n  mutate(smartphone_addiction_mean = mean(c_across(item3:item12))) \n```\n:::\n\n\n\n\n\n\n\n## Score visualisieren\n\nLeider kann `DataExplorer` nicht mehrere Gruppen in einem Dichtediagramm anzeigen. Wir m√ºssten also mit `DataExplorer` zwei Diagramme erstellen, eines f√ºr Frauen und eines f√ºr M√§nner.\nEleganter geht es mit dem Paket `ggpubr`\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone |> \n  ggdensity(x = \"smartphone_addiction_mean\", \n            color = \"sex\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n## Anteil Smartphone-Abh√§ngigkeit\n\nMit `case_when` erstellen wir folgende Regel:\n\n- \"addicted\": *wenn* der Score > 3.1 *und* das Geschlecht \"Mann\" ist bzw.\n- \"addicted\": *wenn* der Score > 3.3 *und* das Geschlecht \"Frau\" ist bzw.\n- \"nicht addicted\": ansonsten\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone <-\n  smartphone |> \n  mutate(is_addicted =\n           case_when(smartphone_addiction_mean > 3.1 & sex == \"Mann\" ~ \"addicted\",\n                     smartphone_addiction_mean > 3.3 & sex == \"Frau\" ~ \"addicted\",\n                     TRUE ~ \"not-addicted\"))\n```\n:::\n\n\n\n\n\nJetzt haben wir die Spalte `is_addicted`, die f√ºr jede Person (Zeile) angibt, \nob die Person addicted ist.\nNun z√§hlen wir die Anzahl (`n`) aus, und zwar pro Geschlechtsgruppe.\nWeil es praktisch ist, rechen wir die Anzahl noch in einen Anteil (`proportion`) um.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone_count <- \nsmartphone |> \n  group_by(sex) |> \n  count(is_addicted) |> \n  mutate(is_addicted_proportion = n / sum(n))\n\nsmartphone_count\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 √ó 4\n# Groups:   sex [2]\n  sex   is_addicted      n is_addicted_proportion\n  <chr> <chr>        <int>                  <dbl>\n1 Frau  addicted        18                  0.462\n2 Frau  not-addicted    21                  0.538\n3 Mann  addicted         2                  0.333\n4 Mann  not-addicted     4                  0.667\n```\n\n\n:::\n:::\n\n\n\n\n\n\n## Smartphone-Sucht, mit einzelnen Item gemessen\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone |> \n  select(smartphone_addiction_mean, item13) |> \n  drop_na() |> \n  plot_scatterplot(by = \"smartphone_addiction_mean\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\nEs scheint einen Zusammenhang zwischen `item13` und `smartphone_addiction_mean` zu geben.\n\n\n## Anteil der Abh√§ngigen visualisieren\n\nDer Anteil der abh√§ngigen Personen ist in beiden Geschlechtern gleich hoch:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone_count |> \n  plot_bar(by = \"sex\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\nHier noch eine alternative Visualisierung mit dem Paket `ggpubr`:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone_count |> \n  ggbarplot(x = \"sex\", y = \"n\", fill = \"is_addicted\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n## Kosten nach Betriebssystem\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone |> \n  group_by(item17) |> \n  summarise(price_mean = mean(item18, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 √ó 2\n  item17  price_mean\n  <chr>        <dbl>\n1 Android       412 \n2 iOS           742.\n```\n\n\n:::\n:::\n\n\n\n\n\n\n## Kosten nach Geschlecht\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone |> \n  group_by(sex) |> \n  summarise(price_median = median(item18, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 √ó 2\n  sex   price_median\n  <chr>        <dbl>\n1 Frau           700\n2 Mann          1000\n```\n\n\n:::\n:::\n\n\n\n\n\nM√§nner geben im Median 300 Euro mehr aus.\n\n\n:::{.callout-tip}\nWenn Sie nicht mehr wissen, was z.B. `na.rm = TRUE` bedeutet, dann einfach googeln oder einen ChatBot fragen. In der Regel ist die Frage dann in zwei Minuten beantwortet. $\\square$\n:::\n\n\n\n## Kosten nach Geschlecht visualisieren\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone |> \n  select(sex, item18) |> \n  plot_boxplot(by = \"sex\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n\n\n\nWie man sieht ist der Median bei den M√§nnern h√∂her als bei den Frauen. Allerdings f√§llt der Median der M√§nner aus das dritte Quartil, was vermuten l√§sst, dass da irgendwas nicht stimmt. \nSchauen wir uns die Daten n√§her an:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmartphone |> \n  filter(sex == \"Mann\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                item1    item2 item3 item4 item5 item6 item7 item8 item9 item10\n1 02/05/2024 16:29:51              4     4     3    NA     1    NA     1      4\n2 02/05/2024 16:30:37 16:20:00     2     5     2     4     3     3     3      3\n3 02/05/2024 16:30:42 16:20:00     1     2     2     4     1     1     6      5\n4 02/05/2024 16:30:48 16:30:00     5     5     2     6     2     2     5      4\n5 02/05/2024 16:30:58 16:00:00     4     2     3     5     2     2     3      4\n6 02/05/2024 16:31:28 16:28:00     6     6     1     6     3     2     6      3\n  item11 item12 item13 item14  sex item16  item17 item18\n1      4     NA      2        Mann     21 Android    400\n2      4      2      4        Mann     19     iOS   1000\n3      3      1      5        Mann     22     iOS   1200\n4      5      4      4        Mann     19 Android    300\n5      5      1      2        Mann     29     iOS   1000\n6      6      2      5        Mann     19     iOS   1000\n  smartphone_addiction_mean  is_addicted\n1                        NA not-addicted\n2                       3.1 not-addicted\n3                       2.6 not-addicted\n4                       4.0     addicted\n5                       3.1 not-addicted\n6                       4.1     addicted\n```\n\n\n:::\n:::\n\n\n\n\n\nAh, es sind einfach sehr wenig M√§nner in diesem Datensatz enthalten.\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}