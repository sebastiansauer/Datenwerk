{
  "hash": "b5087b3ecd3d7e26af0b3046fb1a4783",
  "result": {
    "engine": "knitr",
    "markdown": "---\nextype: num\nexsolution: r sol\nexname: mtcars-abhaengig_var3\nextol: 0.03\nexpoints: 1\ncategories:\n- dyn\n- probability\n- num\n- mtcars\ndate: '2023-10-13'\nslug: mtcars-abhaengig_var3\ntitle: mtcars-abhaengig_var3\n\n---\n\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/init-data-var_2ccb13b6d27a2fa43ba7c9cac3cead27'}\n\n:::\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\n\nIm Folgenden ist der Datensatz `mtcars` zu analysieren. Er ist unter dieser [Quelle](https://vincentarelbundock.github.io/Rdatasets/csv/datasets/mtcars.csv) erhältlich.\n\nDer Datensatz ist z.B. als CSV-Datei [von dieser Webseite](https://vincentarelbundock.github.io/Rdatasets/csv/datasetsv) abrufbar.\n\nHilfe zum Datensatz ist via `help(\"name_des_datensatzes\")` oder [auf dieser Webseite](https://vincentarelbundock.github.io/Rdatasets/doc/datasets) abrufbar.\n\n\n\n\n\n\nOb die Variable `hp` (UV; Ereignis $A$) und *Spritverbrauch* (`mpg`; AV; Ereignis $B$) wohl voneinander abhängig sind? \nWas meinen Sie? Was ist Ihre Einschätzung dazu? \nVermutlich haben Sie ein (wenn vielleicht auch implizites) Vorab-Wissen zu dieser Frage. \nLassen wir dieses Vorab-Wissen aber einmal außen vor und schauen uns rein Daten dazu an. \nVereinfachen wir die Frage etwas,\nindem wir beide Variablen am Mittelwert aufteilen:\nWenn eine Beobachtung (d.h. ein Auto) einen Wert in der jeweiligen Variablen höchstens \nso groß wie der Mittelwert der Variable aufweist,\ngeben wir der Beobachtung der Wert `0`, ansonsten den Wert `1`.\n\nDie resultierenden binären Variablen nennen wir `av_high` bzw. `uv_high` (im schönsten Denglisch).\n\n\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/compute-binary-vars_d5352a5f4a17fa0a92f468bd331d8c69'}\n\n:::\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-1_fa907e15044c06743e001f5bba5f6f29'}\n\n:::\n\n\n\n\n\n\n*Berechnen Sie:* $Pr(\\neg \\text{uvhigh} \\, | \\,  \\text{avhigh})$\n\n\n*Hinweise*:\n\n\n\n- Das \"Ellbogen-Zeichen\" $\\neg$ kennzeichnet eine logische Negierung (das Gegenteil).\n- Die angegebene Wahrscheinlichkeit ist eine bedingte Wahrscheinlichkeit.\n- [Weitere Hinweise](https://start-bayes.netlify.app/pruefung#bearbeitungshinweise)\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\nDieser Prädiktor wurde als UV bestimmt:\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-2_d59e2a9e5769639fe2521fde4e6f81fa'}\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"hp\"\n```\n\n\n:::\n:::\n\n\n\n\n\nSchauen wir zuerst mal in den Datensatz: \n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-3_a9e0bc8b5977630072666d9e949aa2d4'}\n\n```{.r .cell-code}\nd %>% \n  select(mpg, one_of(pred_chosen)) %>% \n  slice_head(n = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n    mpg    hp\n  <dbl> <dbl>\n1  21     110\n2  21     110\n3  22.8    93\n4  21.4   110\n5  18.7   175\n```\n\n\n:::\n:::\n\n\n\n\n\nDann berechnen wir die binären Variablen:\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-4_18b74c636a2523498f76347036d32256'}\n\n```{.r .cell-code}\n# split by mean:\nd2 <-\n  d %>% \n  select(mpg, all_of(pred_chosen)) %>% \n  mutate(av_high = case_when(\n    mpg <= mean(mpg) ~ 0,\n    mpg > mean(mpg) ~ 1\n  )) %>% \n  select(-mpg) \n\n\n# split at mean:\nd2[1] <- ifelse(d[[pred_chosen]] < mean(d[[pred_chosen]]), 0, 1)\nnames(d2)[1] <- \"uv_high\"\n\n# abstracted variables names:\npred_binary_name <- names(d2)[1]\nav_binary_name <- names(d2)[2]\n```\n:::\n\n\n\n\n\n\nDann filtern wir die gesuchten Wahrscheinlichkeiten bzw. Anteile der AV:\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-5_1c021dbbf8846c7ce55f26f992a3136b'}\n\n```{.r .cell-code}\nd3 <-\n  d2 %>% \n  filter(av_high == 1)\n\nav_high_sum <- nrow(d3)\nav_high_sum\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 14\n```\n\n\n:::\n:::\n\n\n\n\nEs gibt also 14 Autos, die den oben gesuchten \"hinteren Teil\"\nder Bedingung erfüllen (`av_high = TRUE)`.\n\nFiltern wir als nächstes nach dem \"vorderen Teil\" der gesuchten Wahrscheinlichkeit \n(was das gleiche ist wie ein Anteil in diesem Fall):\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-6_bfd93f50d4c3461b2c1d9f3dfae56de3'}\n\n```{.r .cell-code}\nd3a <- \n  d3 %>% \n  count(uv_high) \n```\n:::\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-7_b701f13359eb5207950ad3e3a51df557'}\n\n:::\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-8_4f0e35ecf30babfaaa4980c92a6cdd74'}\n\n:::\n\n\n\n\n\nBetrachten wir die nach `av_high = TRUE` gefilterte Häufigkeitstabelle:\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-9_b3aed849a60e61ec7488060dc3345715'}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"fswembsgzd\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#fswembsgzd table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#fswembsgzd thead, #fswembsgzd tbody, #fswembsgzd tfoot, #fswembsgzd tr, #fswembsgzd td, #fswembsgzd th {\n  border-style: none;\n}\n\n#fswembsgzd p {\n  margin: 0;\n  padding: 0;\n}\n\n#fswembsgzd .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#fswembsgzd .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#fswembsgzd .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#fswembsgzd .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#fswembsgzd .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#fswembsgzd .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#fswembsgzd .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#fswembsgzd .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#fswembsgzd .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#fswembsgzd .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#fswembsgzd .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#fswembsgzd .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#fswembsgzd .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#fswembsgzd .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#fswembsgzd .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fswembsgzd .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#fswembsgzd .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#fswembsgzd .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#fswembsgzd .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fswembsgzd .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#fswembsgzd .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fswembsgzd .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#fswembsgzd .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fswembsgzd .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#fswembsgzd .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#fswembsgzd .gt_left {\n  text-align: left;\n}\n\n#fswembsgzd .gt_center {\n  text-align: center;\n}\n\n#fswembsgzd .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#fswembsgzd .gt_font_normal {\n  font-weight: normal;\n}\n\n#fswembsgzd .gt_font_bold {\n  font-weight: bold;\n}\n\n#fswembsgzd .gt_font_italic {\n  font-style: italic;\n}\n\n#fswembsgzd .gt_super {\n  font-size: 65%;\n}\n\n#fswembsgzd .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#fswembsgzd .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#fswembsgzd .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#fswembsgzd .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#fswembsgzd .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#fswembsgzd .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#fswembsgzd .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"uv_high\">uv_high</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n\">n</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"uv_high\" class=\"gt_row gt_right\">0</td>\n<td headers=\"n\" class=\"gt_row gt_right\">14</td></tr>\n    <tr><td headers=\"uv_high\" class=\"gt_row gt_right\">1</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\n\nUnd dann zählen wir die relativen Häufigkeiten der UV,\nund zwar für `uv_high == FALSE`:\n\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-10_31090c1f58ea27328fa248e8827d8829'}\n\n```{.r .cell-code}\nprop_not_uv_high_cond_av_high <- \n  d3a %>% \n  mutate(prop = n / av_high_sum) %>% \n  filter(uv_high == 0) %>% \n  pull(prop)\n\n\n\nsol <- prop_not_uv_high_cond_av_high\nsol\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n:::\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-11_d68cb7bf27ec0ea76ffc71c974178db4'}\n\n:::\n\n\n\n\n\nDer gesuchte Wert beträgt also `1`. \n\nVisualisieren wir noch die bedingten Wahrscheinlichkeiten, \nso könnte man die gesuchten Anteile einfach abzählen:\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-12_968f8f5101d8d1179112b32e4f0b9c0a'}\n\n```{.r .cell-code}\nd2 %>% \n  mutate(across(everything(), factor)) %>%  # factor() brauchn wir nur für die Farbfüllung\n  ggplot() +\n  aes_string(x = av_binary_name, fill = pred_binary_name) +\n  geom_bar() +\n  scale_y_continuous(breaks = 1:100) +\n  scale_x_discrete(drop = FALSE)  # zeigt Kategorien ohne Daten in der Legende an.\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-12-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n\n\n\nSieht man in dem Diagramm nur eine Farbe (anstelle von zweien), \nso heißt das, dass es nur eine Gruppe gibt (und nicht zwei).\nDie Häufigkeit der nicht vorhandenen Gruppe ist demnach Null.\n\nAm besten, Sie führen den letzten Code Schritt für Schritt aus und \nschauen sich jeweils das Ergebnis an, das hilft beim Verstehen.\n\nAlternativ kann man sich die Häufigkeiten auch so ausgeben lassen:\n\n\n\n\n::: {.cell hash='mtcars-abhaengig_var3_cache/html/unnamed-chunk-13_090b4628c5ccb418053d06aa8822f879'}\n::: {.cell-output .cell-output-stdout}\n\n```\n       av_high\nuv_high         0         1\n      0 0.1666667 1.0000000\n      1 0.8333333 0.0000000\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n---\n\nCategories: \n\n- dyn\n- probability\n- num\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}