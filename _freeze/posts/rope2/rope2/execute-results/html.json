{
  "hash": "26546bea270d9f17763e84b94b58e300",
  "result": {
    "markdown": "---\nextype: schoice\nexsolution: 64\nexname: rope2\nexpoints: 1\ncategories:\n- rope\n- bayes\ndate: '2022-12-13'\nslug: rope2\ntitle: rope2\n\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Exercise\n\nIm Datensatz `mtcars`: Ist der (mittlere) Unterschied im Spritverbrauch zwischen den beiden Gruppen \n*Automatik* vs. *Schaltgetriebe* vernachlässigbar?\n\nDefinieren Sie selber, was \"vernachlässigbar klein\" bedeutet.\nOder greifen Sie auf die Definition \"höchstens eine Meile\" zurück.\n\nPrüfen Sie rechnerisch, anhand des angegebenen Datensatzes, folgende Behauptung:\n\n\n*Behauptung: \"Der Unterschied ist vernachlässigbar klein!\"*\n\n\nWählen Sie die Antwortoption, die am besten zu der obigen Behauptung passt!\n\n\nHinweise:\n\n- Sie benötigen einen Computer, um diese Aufgabe zu lösen.\n- Verwenden Sie die statistischen Methoden, die im Unterricht behandelt wurden.\n- Verwenden Sie Ansätze aus der Bayes-Statistik zur Lösung dieser Aufgabe.\n\n\n*Antwortoptionen*:\n\nAnswerlist\n----------\n* Ja, die Behauptung ist korrekt.\n* Nein, die Behauptung ist falsch.\n* Die Daten sind bzw. das Modell nicht konkludent; es ist keine Entscheidung über die Behauptung möglich.\n* Auf Basis der bereitgestellten Informationen ist keine Entscheidung möglich über die Behauptung.\n\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Solution\n\nZur ersten Orientierung erstellen wir uns, rein deskriptiv, \neine Darstellung des Spritverbrauchs beider Gruppen, z.B. so:\n\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-1_7e43bd8466ab1ac361fc98aa20231985'}\n\n```{.r .cell-code}\nmtcars %>% \n  mutate(am = factor(am)) %>% \n  ggplot() +\n  aes(x = mpg, color = am, fill = am) +\n  geom_density(alpha = .5)\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-1-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\nMan sieht direkt, \ndass es substanzielle Unterschiede zwischen den beiden Gruppen gibt.\nVermutlich wird das Modell, das wir gleich berechnen,\nuns wenig überraschen,\nsondern den deskriptiven Befund widerspiegeln.\n\n\n\n\nModell berechnen:\n\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-2_6708a285f0fd57d7e7157046c01e5071'}\n\n```{.r .cell-code}\nlibrary(rstanarm)\nlibrary(tidyverse)\ndata(mtcars)\n\nm1_mtcars <- stan_glm(mpg ~ am, data = mtcars, refresh = 0)\n```\n:::\n\n\nPosteriori-Verteilung betrachten:\n\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-3_a9b7f72c8a359a61e0bd144fe359c464'}\n\n```{.r .cell-code}\nm1_mtcars\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nstan_glm\n family:       gaussian [identity]\n formula:      mpg ~ am\n observations: 32\n predictors:   2\n------\n            Median MAD_SD\n(Intercept) 17.1    1.2  \nam           7.3    1.9  \n\nAuxiliary parameter(s):\n      Median MAD_SD\nsigma 5.0    0.6   \n\n------\n* For help interpreting the printed output see ?print.stanreg\n* For info on the priors used see ?prior_summary.stanreg\n```\n:::\n\n```{.r .cell-code}\ncoef(m1_mtcars)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(Intercept)          am \n  17.120509    7.283641 \n```\n:::\n:::\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-4_d663bd1767b1de53344a21f87d2e9c26'}\n\n```{.r .cell-code}\nposterior_interval(m1_mtcars, prob = .95)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                 2.5%     97.5%\n(Intercept) 14.812428 19.472681\nam           3.667003 10.776004\nsigma        3.907081  6.421553\n```\n:::\n:::\n\n\nSpuckt ein PI aus, kein HDI (HDI noch nicht implementiert in `rstanarm`).\n\n\n\n\nVisualisieren der Posteriori-Verteilung:\n\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-5_3bb260a43f355fa39efe1b393f0e245c'}\n\n```{.r .cell-code}\nplot(m1_mtcars)\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-5-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\nOder als Histogramm:\n\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-6_dd9be13dba013ea5ae50d41584e69a91'}\n\n```{.r .cell-code}\nlibrary(bayesplot)\nmcmc_areas(m1_mtcars)\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-6-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n\n\nMan sieht direkt, \ndass der Unterschied komplett außerhalb des Rope liegt.\n\nRope berechnen:\n\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-7_d1ff5633c2f1932e7f221eb8c4132e2d'}\n\n```{.r .cell-code}\nlibrary(bayestestR)\nrope_m1 <- rope(m1_mtcars, range = c(-1, 1)) #  ±1 Meile Unterschied\n```\n:::\n\n\nRope visualisieren:\n\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-8_5e5c50bd5491aa9b48a8f4e518786a6c'}\n\n```{.r .cell-code}\nplot(rope_m1)\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-8-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n\nMan sieht, dass der \"Berg\" \n- die Posteriori-Verteilung bzw. der Bereich plausibler Werte - \naußerhalb des Rope-Bereichs liegt. \n\nWir können also die Hypothese,\ndass der Unterschied zwischen beiden Gruppen praktisch Null ist,\nverwerfen.\n\nNatürlich ist das nur ein deskriptiver Befund,\nwir können nichts dazu sagen,\nob der Unterschied auch ein kausaler Effekt ist.\n\n\n\nAlternative Rope-Definition: Z-Standardisieren.\n\nEin kleiner Effekt ist, laut Kruschke 2018, \nein Unterschied der nicht größer ist als ±0.1 SD.\n\n\n\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-9_126783d230885c592b4c86259a7800d1'}\n\n```{.r .cell-code}\nm2_mtcars <- \n  mtcars %>% \n  mutate(mpg_z = scale(mpg)) %>% \n  stan_glm(mpg_z ~ am, data = ., refresh = 0)\n```\n:::\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-10_6894d7cd5f4eebfbf80ce4fed7a9d9b3'}\n\n```{.r .cell-code}\nrope(m2_mtcars)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Proportion of samples inside the ROPE [-0.10, 0.10]:\n\nParameter   | inside ROPE\n-------------------------\n(Intercept) |      0.16 %\nam          |      0.00 %\n```\n:::\n:::\n\n::: {.cell hash='rope2_cache/html/unnamed-chunk-11_b06e91e34b5ebce7f49e5dc0e491ba72'}\n\n```{.r .cell-code}\nplot(rope(m2_mtcars))\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-11-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n\n\nAnswerlist\n----------\n\n\n* Falsch\n* Richtig\n* Falsch\n* Falsch\n\n\n\n\n\n\n---\n\nCategories: \n\n- rope\n- bayes\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}