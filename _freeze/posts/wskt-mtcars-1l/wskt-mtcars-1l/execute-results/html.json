{
  "hash": "1d087d41ab0a40b8d2560da628ca748d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ndate: 2023-01-01\ndraft: FALSE   # ACHTUNG DRAFT STEHT AUF TRUE!\ntitle: wskt-mtcars-1l \n\nexecute: \n  eval: true \n  \nhighlight-style: arrow \ncache: true\n\n\nextype: string\nexsolution: \"\"\nexshuffle: no\ncategories:\n- post  # ENTER CATEGORIES HERE\n- bayes\n- regression\n- mtcars\n---\n\n\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\n\nPrüfen Sie folgende Hypothese:\n\n>    Ein Auto mit manueller Schaltung hat pro Gallone Sprit mind. 5 Meilen mehr Reichweite als ein Auto mit Automatikschaltung (ceteris paribus).\n\n\nQuantifizieren Sie die Wahrscheinlichkeit dieser Hypothese!\n\nHinweise:\n\n\n- Nutzen Sie die Bayes-Statistik mit `Stan`. \n- Beachten Sie die [Standardhinweise des Datenwerks](https://datenwerk.netlify.app/hinweise).\n- Verwenden Sie den Datensatz `mtcars`.\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n## Setup\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rstanarm)\nlibrary(easystats)\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(mtcars)\n```\n:::\n\n\n\n\n## Modell\n\nDie Hypothese kann man wie folgt formalisieren:\n\n1. Die Wahrscheinlichkeit, dass Manuellschalter eine höhere Reichweite haben, ist größer als die Wahrscheinlichkeit, dass Automatikschalter eine höhere Reichweite haben:\n\n$$Pr(mpg_M > mpg_A) > Pr(mpg_M <= mpg_A)$$\n\n2. Oder anders gesagt: Die Wahrscheinlichkeit, dass Automatikschalter eine höhere Reichweite haben (pro Gallone Sprit und im Vergleich zu Automatikschalter) ist größer als 50%.\n\n$$Pr(mpg_M > mpg_A) > 1/2$$\n3. Möchte man noch hinzufügen, dass sich diese Behauptung auf ein bestimmtes, nämlich unser Regressionsmodell bezieht, kann man schreiben:\n\n\n$$Pr(mpg_M > mpg_A \\quad | \\beta_0, \\beta_1, \\sigma)$$\n\n## Modell berechnen\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm <- stan_glm(mpg ~ am,\n              data = mtcars,\n              refresh = 0,\n              seed = 42)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nparameters(m)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nParameter   | Median |         95% CI |     pd |  Rhat |     ESS |                   Prior\n------------------------------------------------------------------------------------------\n(Intercept) |  17.14 | [14.85, 19.51] |   100% | 0.999 | 3739.00 | Normal (20.09 +- 15.07)\nam          |   7.21 | [ 3.72, 10.70] | 99.95% | 0.999 | 3755.00 |  Normal (0.00 +- 30.20)\n```\n\n\n:::\n:::\n\n\n\n\n\n\n## Post-Verteilung auslesen\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm_post <-\n  m |>\n  as_tibble()\n\nprop <- \nm_post |> \n  count(am >= 5) |> \n  mutate(prop = n/sum(n))\n\nprop\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 3\n  `am >= 5`     n  prop\n  <lgl>     <int> <dbl>\n1 FALSE       431 0.108\n2 TRUE       3569 0.892\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\n## Antwort\n\nLaut unserem Modell beträgt die Wahrscheinlichkeit für obige Hypothese 0.89.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}