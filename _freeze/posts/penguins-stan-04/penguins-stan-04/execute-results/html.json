{
  "hash": "d8f75fbf05eb32a10148b2c54251c8a8",
  "result": {
    "markdown": "---\nexname: penguins-stan-04\nextype: num\nexsolution: r exams::fmt(sol, 2)\nextol: 5\nexpoints: 1\ncategories:\n- bayes\n- regression\n- exam-22\ndate: '2023-01-11'\nslug: penguins-stan-04\ntitle: penguins-stan-04\n\n---\n\n\n\n\n\n\n# Aufgabe\n\n\nWir untersuchen Einflussfaktoren bzw. Prädiktoren auf das Körpergewicht von Pinguinen.\nIn dieser Aufgabe untersuchen wir den Zusammenhang von *Schnabellänge* (als UV) und *Körpergewicht* (als AV).\n\n\nWie groß ist die Wahrscheinlichkeit, dass der Effekt vorhanden ist (also größer als Null ist), die \"*Effektwahrscheinlichkeit*\"?\nGeben Sie die Wahrscheinlichkeit an.\n\n\n\n\nHinweise:\n\n- Nutzen Sie den Datensatz zu den *Palmer Penguins*.\n- Verwenden Sie Methoden der Bayes-Statistik und die Software Stan.\n- Sie können den Datensatz z.B. [hier](https://vincentarelbundock.github.io/Rdatasets/csv/palmerpenguins/penguins.csv) beziehen oder über das R-Paket `palmerpenguins`.\n- [Weitere Hinweise](https://sebastiansauer.github.io/Lehre/Hinweise/Hinweise-Pruefung-Open-Book.html)\n\n\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\nZentrieren ist eigentlich immer nützlich,\naber hier streng genommen nicht unbedingt nötig.\nDer Hauptgrund dafür ist, dass Stan für uns den Prior für den Intercept festlegt,\nund zwar auf Basis der Daten,\nwir uns also nicht um die komische Frage zu kümmern brauchen,\nwelchen Prior wir für den unzentrierten Achsenabschnitt vergeben wollten:\nWie schwer sind Pinguins der Schnabellänge Null?\nMit zentrierten Prädiktoren ist die Frage nach dem Prior viel einfacher zu beantworten:\nWie schwer ist ein Pinguin mit mittelgroßem Schnabel?\n\nSetup:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(easystats)\nlibrary(rstanarm)\n\ndata(\"penguins\", package = \"palmerpenguins\")\n```\n:::\n\n\n\nEs wird in dieser Aufgabe vorausgesetzt,\ndass Sie den Datensatz selbständig importieren können.\nTipp: Kurzes Googeln hilft ggf., den Datensatz zu finden.\n\n\n\nAlternativ könnten Sie den Datensatz als CSV-Datei importieren:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd_path <- \"https://vincentarelbundock.github.io/Rdatasets/csv/palmerpenguins/penguins.csv\"\npenguins <- data_read(d_path)\n```\n:::\n\n\n\nEin Blick in die Daten zur Kontrolle,\nob das Importieren richtig funktioniert hat:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n:::\n:::\n\n\n\nVertrauen ist gut, aber - was Golems betrifft - ist Kontrolle eindeutig besser ;-)\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1 <- stan_glm(body_mass_g ~  bill_length_mm,  # Regressionsgleichung\n               data = penguins, #  Daten\n               seed = 42,  # Repro.\n               refresh = 0)  # nicht so viel Output\n```\n:::\n\n\nMit `pd()` kann man sich die Effektwahrscheinlichkeit (\"probability of direction\") ausgeben lassen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npd(m1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nProbability of Direction\n\nParameter      |     pd\n-----------------------\n(Intercept)    | 89.92%\nbill_length_mm |   100%\n```\n:::\n:::\n\n\nMehr Informationen zu dieser Statistik findet sich [hier](https://easystats.github.io/blog/posts/bayestestr_pd/) oder [hier](https://easystats.github.io/bayestestR/reference/p_direction.html).\n\nAlternativ bekommt man die Statistik auch mit `parameters()`.\n\n\n\n::: {.cell}\n\n:::\n\n\n\nDie Lösung lautet also 1.\n\n\n\n\n---\n\nCategories: \n\n- bayes\n- regression\n- exam-22\n\n",
    "supporting": [
      "penguins-stan-04_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}