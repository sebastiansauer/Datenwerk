{
  "hash": "c656e0c5fe2e331b5dde2b026919f6db",
  "result": {
    "engine": "knitr",
    "markdown": "---\nexname: penguins-stan-05\nextype: num\nexsolution: r exams::fmt(sol, 2)\nextol: 5\nexpoints: 1\ncategories:\n- bayes\n- regression\n- exam-22\ndate: '2023-01-11'\nslug: penguins-stan-05\ntitle: penguins-stan-05\n\n---\n\n\n\n\n\n\n# Aufgabe\n\n\nWir untersuchen Einflussfaktoren bzw. Prädiktoren auf das Körpergewicht von Pinguinen.\nIn dieser Aufgabe untersuchen wir den Zusammenhang von *Schnabellänge* (als UV) und *Körpergewicht* (als AV).\n\n\nAufgabe: **Wie breit ist das 95%-ETI, wenn Sie nur die Spezies *Adelie* untersuchen?**\n\n\n\nHinweise:\n\n- Sie können den Datensatz z.B. [hier](https://vincentarelbundock.github.io/Rdatasets/csv/palmerpenguins/penguins.csv) beziehen oder über das R-Paket `palmerpenguins`.\n- [Weitere Hinweise](https://sebastiansauer.github.io/Lehre/Hinweise/Hinweise-Pruefung-Open-Book.html)\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\nZentrieren ist eigentlich immer nützlich,\naber hier streng genommen nicht unbedingt nötig.\nDer Hauptgrund dafür ist, dass Stan für uns den Prior für den Intercept festlegt,\nund zwar auf Basis der Daten,\nwir uns also nicht um die komische Frage zu kümmern brauchen,\nwelchen Prior wir für den unzentrierten Achsenabschnitt vergeben wollten:\nWie schwer sind Pinguins der Schnabellänge Null?\nMit zentrierten Prädiktoren ist die Frage nach dem Prior viel einfacher zu beantworten:\nWie schwer ist ein Pinguin mit mittelgroßem Schnabel?\n\nSetup:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(easystats)\nlibrary(rstanarm)\n\ndata(\"penguins\", package = \"palmerpenguins\")\n```\n:::\n\n\n\nEs wird in dieser Aufgabe vorausgesetzt,\ndass Sie den Datensatz selbständig importieren können.\nTipp: Kurzes Googeln hilft ggf., den Datensatz zu finden.\n\n\n\nAlternativ könnten Sie den Datensatz als CSV-Datei importieren:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd_path <- \"https://vincentarelbundock.github.io/Rdatasets/csv/palmerpenguins/penguins.csv\"\n```\n:::\n\n\n\nEin Blick in die Daten zur Kontrolle,\nob das Importieren richtig funktioniert hat:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- data_read(d_path)\npenguins_adelie <- \n  penguins %>% \n  filter(species == \"Adelie\")\n\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 344\nColumns: 9\n$ rownames          <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 1…\n$ species           <chr> \"Adelie\", \"Adelie\", \"Adelie\", \"Adelie\", \"Adelie\", \"A…\n$ island            <chr> \"Torgersen\", \"Torgersen\", \"Torgersen\", \"Torgersen\", …\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <chr> \"male\", \"female\", \"female\", \"\", \"female\", \"male\", \"f…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n\n\n:::\n:::\n\n\n\nVertrauen ist gut, aber - was Golems betrifft - ist Kontrolle eindeutig besser ;-)\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nm1 <- stan_glm(body_mass_g ~  bill_length_mm,  # Regressionsgleichung\n               data = penguins_adelie, #  Daten\n               seed = 42,  # Repro.\n               refresh = 0)  # nicht so viel Output\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nparameters(m1, ci = .95, ci_method = \"eti\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nParameter      | Median |            95% CI |     pd |  Rhat |     ESS |                       Prior\n----------------------------------------------------------------------------------------------------\n(Intercept)    |  18.20 | [-881.48, 930.13] | 51.75% | 1.000 | 3988.00 | Normal (3700.66 +- 1146.42)\nbill_length_mm |  94.71 | [  71.21, 118.31] |   100% | 1.000 | 3962.00 |     Normal (0.00 +- 430.43)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nUncertainty intervals (equal-tailed) and p-values (two-tailed) computed\n  using a MCMC distribution approximation.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\nDie Lösung lautet also, wie in der Ausgabe zu den Parametern ersichtlich, 47.1.\n\n\n\n\n---\n\nCategories: \n\n- bayes\n- regression\n- exam-22\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}