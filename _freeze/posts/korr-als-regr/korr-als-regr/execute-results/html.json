{
  "hash": "5a7ba462dda74b6d0a043f68390ffb29",
  "result": {
    "markdown": "---\nextype: string\nexsolution: NA\nexname: korr-als-regr\nexpoints: 1\ncategories:\n- correlation\n- lm\ndate: '2022-09-04'\nslug: korr-als-regr\ntitle: korr-als-regr\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(digits=2)\noptions(width = 80)\n```\n:::\n\n\n\n\n\n\n\n\n\n\n\n\n# Exercise\n\nDie Korrelation prüft, ob zwei Merkmale linear zusammenhängen.\n\nWie viele andere Verfahren kann die Korrelation als ein Spezialfall \nder Regression bzw. des linearen Modells \n$y = \\beta_0 + \\beta_1 + \\ldots \\beta_n + \\epsilon$ betrachtet werden.\n\nAls ein spezielles Beispiel betrachten wir die Frage, \nob  das Gewicht eines Diamanten (`carat`) mit dem Preis (`price`) zusammenhängt\n(Datensatz `diamonds`).\n\nDen Datensatz können Sie so laden:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\ndata(diamonds)\n```\n:::\n\n\na) Geben Sie das Skalenniveau beider Variablen an!\n\nb) Betrachten Sie die Ausgabe von R:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm1 <- lm(price ~ carat, data = diamonds)\nsummary(lm1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = price ~ carat, data = diamonds)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-18585   -805    -19    537  12732 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  -2256.4       13.1    -173   <2e-16 ***\ncarat         7756.4       14.1     551   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1550 on 53938 degrees of freedom\nMultiple R-squared:  0.849,\tAdjusted R-squared:  0.849 \nF-statistic: 3.04e+05 on 1 and 53938 DF,  p-value: <2e-16\n```\n:::\n:::\n\n\nWie (bzw. wo) ist aus dieser Ausgabe die Korrelation herauszulesen?\n\n\n\nc) Macht es einen Unterschied, ob man Preis mit Karat bzw. Karat mit Preis korreliert?\n\n\nd) In der klassischen Inferenzstatistik ist der $p$-Wert eine zentrale Größe; \nist er klein ($p<.05$) so nennt man die zugehörige Statistik *signifikant* und\nverwirft die getestete Hypothese. \n\nd) Im Folgenden sehen Sie einen Korrelationstest auf statistische Signifikanz, \nmit R durchgeführt. Zeigt der Test ein (statistisch) signifikantes Ergebnis? \nWie groß ist der \"Unsicherheitskorridor\", \num den Korrelationswert (zugleich Punktschätzer für den Populationswert)?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(easystats)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n# Attaching packages: easystats 0.5.2\n✔ insight     0.18.2     ✔ datawizard  0.5.1   \n✔ bayestestR  0.12.1.1   ✔ performance 0.9.2   \n✔ parameters  0.18.2     ✔ effectsize  0.7.0.5 \n✔ modelbased  0.8.5      ✔ correlation 0.8.2   \n✔ see         0.7.2      ✔ report      0.5.5   \n```\n:::\n\n```{.r .cell-code}\ndiamonds %>% \n  sample_n(30) %>% \n  select(price, carat) %>% \n  correlation()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# Correlation Matrix (pearson-method)\n\nParameter1 | Parameter2 |    r |       95% CI | t(28) |         p\n-----------------------------------------------------------------\nprice      |      carat | 0.94 | [0.88, 0.97] | 14.87 | < .001***\n\np-value adjustment method: Holm (1979)\nObservations: 30\n```\n:::\n:::\n\n\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Solution\n\na)  `carat` ist metrisch (verhältnisskaliert) und `price` ist metrisch (verhältnisskaliert)\n\nb) $R^2$ kann bei einer einfachen (univariaten) Regression als das Quadrat von $r$ berechnet werden. Daher $r = \\sqrt{R^2}$.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsqrt(0.8493)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.92\n```\n:::\n:::\n\n\n\nZum Vergleich\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndiamonds %>% \n  summarise(r = cor(price, carat))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n      r\n  <dbl>\n1 0.922\n```\n:::\n:::\n\nMan kann den Wert der Korrelation auch noch anderweitig berechnen \n($\\beta$ umrechnen in $\\rho$).\n\n\nc) Nein. Die Korrelation ist eine symmetrische Relation.\n\n\nd) Ja; die Zahl \"3.81e-14\" bezeichnet eine positive Zahl kleiner eins mit \n13 Nullern vor der ersten Ziffer, die nicht Null ist (3.81 in diesem Fall). \nDer \"Unsicherheitskorridor\" reicht von etwa 0.87 bis 0.97.\n\n\n\n\n---\n\nCategories: \n\n- correlation\n- lm\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}