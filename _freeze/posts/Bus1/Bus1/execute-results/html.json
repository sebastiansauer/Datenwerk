{
  "hash": "ba88cef530ad1695bd99c4b62c37d2a2",
  "result": {
    "engine": "knitr",
    "markdown": "---\nexname: bus1\nextype: num\nexsolution: r y\nexshuffle: no\nextol: 1\nexpoints: 1\ncategories:\n- probability\n- bayes\n- num\ndate: '2023-11-08'\ntitle: Bus1\ndraft: true\n---\n\n\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\nDie folgende Aufgabe basiert auf S. 110 von Bourier, G. (2018). Wahrscheinlichkeitsrechnung und schließende Statistik: Praxisorientierte Einführung — Mit Aufgaben und Lösungen. Springer Fachmedien. https://doi.org/10.1007/978-3-658-07481-4\n\n\nAn einer Bushaltestelle verkehren zwei Linien. Linie *A* hält im *10-Minuten-Takt*, Linie *B* im *20-Minuten-Takt*, der um fünf Minuten zeitversetzt ist zu Linie A. \n\n\n\n*Aufgabe*: Wie groß ist die Wahrscheinlichkeit, dass eine Person, die zu einem zufälligen Zeitpunkt an der Haltestelle ankommt, zwischen *3 und 6 Minuten* warten muss? Simulieren Sie die Wahrscheinlichkeitsverteilung anhand von Stichprobenziehungen! Geben Sie die Wahrscheinlichkeit an.\n\n\nHinweise:\n\n- Beide Linien sind stets pünktlich.\n- Es treten keine sonstigen Störungen auf.\n- Ziehen Sie 1e04 Stichproben.\n- Runden Sie auf zwei Dezimalstellen.\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\nVergegenwärtigen wir uns die Ereignisse (\"Bus A kommt\" und \"Bus B kommt\") in den ersten 20 Minuten - danach wiederholt es sich.\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n\nErgänzen wir noch das Ereignis \"Bus A oder Bus B kommt\":\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\nDer vertikale Balken `|` ist in R der Operator für das logische Oder.\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\n| Minute| Linie_A| Linie_B| Bus|\n|------:|-------:|-------:|---:|\n|      1|       0|       0|   0|\n|      2|       0|       0|   0|\n|      3|       0|       0|   0|\n|      4|       0|       0|   0|\n|      5|       0|       1|   1|\n|      6|       0|       0|   0|\n|      7|       0|       0|   0|\n|      8|       0|       0|   0|\n|      9|       0|       0|   0|\n|     10|       1|       0|   1|\n|     11|       0|       0|   0|\n|     12|       0|       0|   0|\n|     13|       0|       0|   0|\n|     14|       0|       0|   0|\n|     15|       0|       0|   0|\n|     16|       0|       0|   0|\n|     17|       0|       0|   0|\n|     18|       0|       0|   0|\n|     19|       0|       0|   0|\n|     20|       1|       0|   1|\n\n\n:::\n:::\n\n\n\n\n\nSpaßeshalber ergänzen wir noch die nächsten 20 Minuten:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd2 <- \n  d %>% \n  mutate(Minute = 21:40)\n\n\nd3 <-\n  d %>% \n  bind_rows(d2)\n```\n:::\n\n\n\n\n\n\nDas plotten wir mal.\n\nZum Plotten macht es Sinn, den Datensatz lang zu pivotieren:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd3_long <- \n  d3  %>% \n  pivot_longer(cols = Linie_A:Bus, names_to = \"Linie\", values_to = \"Bus_kommt\") \n\nhead(d3_long)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| Minute|Linie   | Bus_kommt|\n|------:|:-------|---------:|\n|      1|Linie_A |         0|\n|      1|Linie_B |         0|\n|      1|Bus     |         0|\n|      2|Linie_A |         0|\n|      2|Linie_B |         0|\n|      2|Bus     |         0|\n\n</div>\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](unnamed-chunk-6-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n\n\n\nJetzt fügen wir die Wartezeiten hinzu.\nDazu ein Beispiel: Kommt man in Minute 1 oder in Minute 6 an, so muss man 4 Minuten warten auf Linie A. Kommt man in Minute 2 oder 7 an, so muss man 3 Minuten warten auf Linie A, etc. Kommt man in der 5. Minute, so ist der Bus gerade weg (man könnte auch vereinbaren, dass der Bus noch da ist; beides ist okay).\nFür Linie B gilt Ähnliches.\n\nUm das auszurechnen, braucht man den \"Rest-Operator\" in R, `%%`:\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\n\nDie Gesamt-Wartezeit ist die kleinere der beiden Wartezeiten (Warten auf Linie A bzw. auf Linie B):\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\nJetzt ziehen wir Stichproben, damit wir zählen können, wie häufig der Bus kommt bei einer bestimmten Ankunftszeit einer Person an der Haltestelle.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstipros <-\n  d %>% \n  slice_sample(n = 1e4, replace = TRUE)\n\nhead(stipros)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| Minute| Linie_A| Linie_B| Bus|\n|------:|-------:|-------:|---:|\n|      6|       0|       0|   0|\n|      9|       0|       0|   0|\n|     18|       0|       0|   0|\n|      8|       0|       0|   0|\n|     14|       0|       0|   0|\n|      3|       0|       0|   0|\n\n</div>\n:::\n:::\n\n\n\n\n\n\nSchauen wir uns mal die Stichproben als Histogramm an:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstipros %>% \n  count(Minute, Bus)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| Minute| Bus|   n|\n|------:|---:|---:|\n|      1|   0| 496|\n|      2|   0| 467|\n|      3|   0| 478|\n|      4|   0| 502|\n|      5|   1| 539|\n|      6|   0| 468|\n|      7|   0| 524|\n|      8|   0| 548|\n|      9|   0| 505|\n|     10|   1| 528|\n|     11|   0| 495|\n|     12|   0| 489|\n|     13|   0| 512|\n|     14|   0| 473|\n|     15|   0| 521|\n|     16|   0| 487|\n|     17|   0| 502|\n|     18|   0| 504|\n|     19|   0| 475|\n|     20|   1| 487|\n\n</div>\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n---\n\nCategories: \n\n- probability\n- bayes\n- num\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}