{
  "hash": "ca8ff028d6442e8766c06790c8b0910e",
  "result": {
    "markdown": "---\nexname: tidymodels-ames-03\nextype: num\nexsolution: r fmt(sol)\nexshuffle: no\nextol: 1\nexpoints: 1\ncategories:\n- ds1\n- tidymodels\n- prediction\n- yacsda\n- stat-learning\n- num\ndate: '2023-03-27'\nslug: tidymodels-ames-03\ntitle: tidymodels-ames-03\n\n---\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\nBerechnen Sie ein lineares Modell mit tidymodels und zwar anhand des `ames` Datensatzes.\n\nModellgleichung: `Sale_Price ~ Gr_Liv_Area, data = ames`.\n\nBerechnen Sie ein multiplikatives (exponenzielles) Modell.\n\nRücktransformieren Sie die Log-Werte in \"Roh-Dollar\".\n\nGeben Sie den mittleren Vorhersagewert an als Lösung.\n\n*Hinweise*:\n\n- Fixieren Sie die Zufallszahlen auf den Startwert 42.\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-1_6122ac241bc8459ebd7f8285b9d36e76'}\n\n:::\n\n\n\nMultiplikatives Modell:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-2_145c7175dd74fd14252251c636d8749f'}\n\n:::\n\n\nNicht vergessen: AV-Transformation in beiden Samples!\n\n\nDatensatz aufteilen:\n\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-3_baf0ee1df8cffbd95230f10b06c8bfe0'}\n\n:::\n\n\n\n\nModell definieren:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-4_570168f06fb010e5c9caa94784ac6be7'}\n\n:::\n\n\n\n\nModell fitten:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-5_3d3e40c72add00fac2cbebf5508d1c0b'}\n\n:::\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-6_bc95bf9d558cf5deb18bc20283d959a4'}\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nstats::lm(formula = Sale_Price ~ Gr_Liv_Area, data = data)\n\nCoefficients:\n(Intercept)  Gr_Liv_Area  \n  4.8552133    0.0002437  \n```\n:::\n:::\n\n\n\n\nModellgüte im Train-Sample:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-7_c73d6e012315e49a0c0d32409f07a61b'}\n\n:::\n\n\n\n\nModellgüte im Train-Sample:\n\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-8_a941c44f18cbbc03c5738dedbd90d499'}\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nstats::lm(formula = Sale_Price ~ Gr_Liv_Area, data = data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.02587 -0.06577  0.01342  0.07202  0.39231 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 4.855e+00  7.355e-03  660.12   <2e-16 ***\nGr_Liv_Area 2.437e-04  4.648e-06   52.43   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.1271 on 2928 degrees of freedom\nMultiple R-squared:  0.4842,\tAdjusted R-squared:  0.484 \nF-statistic:  2749 on 1 and 2928 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n\n\n\nR-Quadrat via easystats:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-9_a29ccec234e103b096d5f7c5cae65144'}\n::: {.cell-output .cell-output-stdout}\n```\n# R2 for Linear Regression\n       R2: 0.484\n  adj. R2: 0.484\n```\n:::\n:::\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-10_7d071ed5d73c57b9c48b1e7297314642'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 5\n  term        estimate  std.error statistic p.value\n  <chr>          <dbl>      <dbl>     <dbl>   <dbl>\n1 (Intercept) 4.86     0.00736        660.        0\n2 Gr_Liv_Area 0.000244 0.00000465      52.4       0\n```\n:::\n:::\n\n\n\n\nVorhersagen im Test-Sample:\n\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-11_c4bfd5f63fd8f150da392eb815d05e3e'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 1\n  .pred\n  <dbl>\n1  5.07\n2  5.18\n3  5.31\n4  5.11\n5  5.18\n6  5.10\n```\n:::\n:::\n\n\n`preds` ist ein Tibble, also müssen wir noch die Spalte `.pred.` herausziehen, z.B. mit `pluck(preds, \".pred\")`:\n\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-12_b32b5fed42344758e14709cd5d614607'}\n\n:::\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-13_c48eb45a248a4d84dad4029b8a32e8c4'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 4\n  Sale_Price Gr_Liv_Area preds .pred\n       <dbl>       <int> <dbl> <dbl>\n1       5.02         896  5.07  5.07\n2       5.24        1329  5.18  5.18\n3       5.60        1856  5.31  5.31\n4       5.15        1056  5.11  5.11\n5       5.26        1337  5.18  5.18\n6       4.98         987  5.10  5.10\n```\n:::\n:::\n\n\nOder mit `unnest`:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-14_87ba14dca6796d7d4f4716b50fa69441'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  Sale_Price Gr_Liv_Area .pred\n       <dbl>       <int> <dbl>\n1       5.02         896  5.07\n2       5.24        1329  5.18\n3       5.60        1856  5.31\n4       5.15        1056  5.11\n5       5.26        1337  5.18\n6       4.98         987  5.10\n```\n:::\n:::\n\n\nOder wir binden einfach die Spalte an den Tibble:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-15_c81a1aacf43341fdd73f5453656a0e5b'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  Sale_Price Gr_Liv_Area .pred\n       <dbl>       <int> <dbl>\n1       5.02         896  5.07\n2       5.24        1329  5.18\n3       5.60        1856  5.31\n4       5.15        1056  5.11\n5       5.26        1337  5.18\n6       4.98         987  5.10\n```\n:::\n:::\n\n\n\n\nModellgüte im Test-Sample:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-16_0c8a864217754d539e7a48dada1045a5'}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n  .metric .estimator .estimate\n  <chr>   <chr>          <dbl>\n1 rsq     standard       0.517\n```\n:::\n:::\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-17_a81ff6b1e5f9f23caadeb55d7d252b8f'}\n\n:::\n\n\n\n\nZur Interpretation von Log10-Werten\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-18_36d106994a795104b9ef2b73feccf8ce'}\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5e+05\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0\n```\n:::\n:::\n\n\n\n\nRücktransformation (ohne Bias-Korrektur):\n\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-19_1679f93d7c0a3c18a9a464976650efc4'}\n\n:::\n\n\n\n\nMittelwert der Vorhersagen:\n\n\n::: {.cell hash='tidymodels-ames-03_cache/html/unnamed-chunk-20_5941c4dc59852c14800b45ff924443b7'}\n::: {.cell-output .cell-output-stdout}\n```\n[1] 175973.8\n```\n:::\n:::\n\n\n\n\n\n\n---\n\nCategories: \n\n- ds1\n- tidymodels\n- prediction\n- yacsda\n- stat-learning\n- num\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}