{
  "hash": "4bf7129fe643c359439ad8cce9fa6a83",
  "result": {
    "engine": "knitr",
    "markdown": "---\nextype: num\nexsolution: r sol\nexname: Krebs1\nexpoints: 1\ncategories:\n- bayes\n- probability\n- num\n- bayesbox\ndate: '2023-11-08'\nslug: Krebs1\ntitle: Krebs1\n\n---\n\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n# Aufgabe\n\nEin Krebstest ($T$) habe die Wahrscheinlichkeit von `0.9`, einen vorhandenen Krebs ($K$) zu erkennen.\nDiese Wahrscheinlichkeit bezeichnen wir als $Pr(T+|K+)$.\nDer Test erkennt also die meisten Krebsfälle, und ein paar werden (leider) übersehen.\n\nManchmal macht der Test auch den umgekehrten Fehler: \nBei einem gesunden Mensch wird fälschlich Krebs diagnostiziert, $Pr(T+|K-)$.\nDiese Wahrscheinlichkeit liegt bei dem Test bei `0.1`, \nzum Glück also relativ gering.\n\n\nDie Grundrate dieser Krebsart belaufe sich in der Population auf `0.01`, $Pr(K+)$.\n\n*Aufgabe*: Berechnen Sie die Wahrscheinlichkeit,\ndass ein Patient tatsächlich Krebs hat, wenn (gegeben dass) der Test positiv ist, also Krebs diagnostiziert hat!\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPr_Tpos_geg_Kpos <- .9  # Wskt für Test positiv geg. Krebs ist positiv (tatsächlich Krebs)\nPr_Tpos_geg_Kneg <- .1\nPr_Kpos <- .01\n```\n:::\n\n\nHier kann man Bayes Theorem anwenden:\n\n$Pr(K|T) = \\frac{Pr(K) \\cdot Pr(T|K) }{Pr(T)}$.\n\n::: {.cell}\n\n```{.r .cell-code}\nzaehler_bayes <- Pr_Kpos * Pr_Tpos_geg_Kpos\nzaehler_bayes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.009\n```\n\n\n:::\n\n```{.r .cell-code}\nPr_T <- (zaehler_bayes + (1-Pr_Kpos) * Pr_Tpos_geg_Kneg)\nPr_T\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.108\n```\n\n\n:::\n\n```{.r .cell-code}\nsol <- Pr_Kpos_geg_Tpos <- zaehler_bayes / Pr_T \nsol <- round(sol, 2)\nsol\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.08\n```\n\n\n:::\n:::\n\n\nDie Lösung beträgt also: `0.08`.\n\n\nHier ist ein Baumdiagramm zur Visualisierung:\n\n\n```{mermaid}\nflowchart LR\n  S[1000 Personen] --> K[Krebs: 10]\n  S --> NK[Nicht-Krebs: 990]\n  K --> T[Test positiv: 9]\n  K --> NT[Nicht Test positiv: 1]\n  NK --> TNK[Test positiv: 99]\n  NK --> NTNK[Nicht Test positiv: 891]\n```\n\n\nMan kann die Aufgabe auch mit dem Baumdiagramm lösen:\n\nEs erhalten 108=99+9 Personen ein positives Testergebnis.\nDavon haben 9 tatsächlich Krebs.\nAlso: $Pr(K+|T+) = \\frac{9}{108} = 0.0833$.\n\n\nAlternativ kann man auch mit der Bayesbox arbeiten:\n\n| Hypothese \t| Prior \t| Likelihood \t| Post_unstand \t| Evidenz \t| Post \t|\n|-----------\t|-------\t|------------\t|--------------\t|---------\t|------\t|\n| K         \t| .01   \t| .9         \t| .009         \t| .108    \t| .083 \t|\n| NK        \t| .99   \t| .1         \t| .099         \t| .108    \t| .092 \t|\n\n\nK: Krebs\nNK: Nicht-Krebs\n\nDie Likelihood für die Hypothese $K$ (die Hypothese, dass Krebs vorliegt) ist definiert als $Pr(D|H)=.9$. Hier entspricht der positive Krebstest den Daten.\nDie Likelihood für die Hypothese $NK$ (die Hypothese, dass *kein* Krebs vorliegt) ist definiert als $Pr(D|\\neg H)=.9$. Hier entspricht der negative Krebstest den Daten.\n\n\nDie unstandardisierte Post-Wahrscheinlichkeit entspricht dem Produkt aus Likelihood und Prior: $Pr(D|H) \\cdot Pr(H)=.009$ bzw. $.099$.\n\nDie Evidenz ist die Summe der Posterior-Wahrscheinlichkeiten multipliziert mit den jeweiligen Priors: $Pr(D)=.108$.\n\nDie Post-Wahrscheinlichkeit ist die durch die Evidenz dividierte unstandardisierte Post-Wahrscheinlichkeit: $Pr(H|D)=.083$ bzw. $.092$.\n\n\n\n---\n\nCategories: \n\n- bayes\n- probability\n- num\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}