{
  "hash": "c65808c248167b4ea4da7bfd857a522f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ndate: 2023-12-18  \ndraft: false  \ntitle: saratoga-cor1  # ACHTUNG: HIER NAMEN DER AUFGABE ANGEBEN\n\nexecute: \n  eval: true \n  \nhighlight-style: arrow \ncache: true\n\n\nextype: string\nexsolution: \"\"\nexshuffle: no\ncategories:\n- R  # ENTER CATEGORIES HERE\n- vis\n- causal\n- eda\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\n\nImportieren Sie den Datensatz `saratoga`. \n\nGruppieren Sie den Datensatz in die Quartile für `livingArea`.\n\n\n\nBerechnen Sie dann den Zusammenhang zwischen `price` und `bedrooms` *pro Quartil* von `livingArea`.\n\n\n\nHinweise:\n\n- Beachten Sie die [Standardhinweise des Datenwerks](https://datenwerk.netlify.app/hinweise).\n- Tipp: Die Funktion `ntile` aus `{dplyr}` teilt eine Variable `var` in Quartile auf, wenn Sie schreiben `ntile(var, 4)`.\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggpubr)\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"SaratogaHouses\", package = \"mosaicData\")\n```\n:::\n\n\n\n\n\n## Gruppieren\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd2 <-\n  SaratogaHouses |> \n  mutate(q = ntile(livingArea, 4)) |> \n  group_by(q)\n```\n:::\n\n\n\n## Statistiken\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd2 |> \n  summarise(korrelation = cor(bedrooms, price))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|  q| korrelation|\n|--:|-----------:|\n|  1|   0.1262003|\n|  2|   0.0780997|\n|  3|  -0.1427274|\n|  4|  -0.0478333|\n\n</div>\n:::\n:::\n\n\n\n## Visualisierung\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggscatter(d2, \n          x = \"bedrooms\",\n          y = \"price\",\n          facet.by = \"q\",\n          add = \"reg.line\")\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-5-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}