{
  "hash": "16ad693d8128c1932ed646c60969203d",
  "result": {
    "engine": "knitr",
    "markdown": "---\nextype: string\nexsolution: NA\nexname: adjustieren1a\nexpoints: 1\ncategories:\n- regression\n- '2023'\n- string\n- qm2\n- qm2-pruefung2023\n- mtcars\ndate: '2023-11-08'\nslug: adjustieren1a\ntitle: adjustieren1a\n\n---\n\n\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\n\n\nBetrachten Sie folgendes Modell, das den Zusammenhang von PS-Zahl und Spritverbrauch untersucht (Datensatz `mtcars`).\n\n\nAber zuerst zentrieren wir den metrischen Prädiktor `hp`, um den Achsenabschnitt besser interpretieren zu können. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(easystats)\ndata(mtcars)\n\nmtcars <-\n  mtcars %>% \n  mutate(hp_z = hp - mean(hp))\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm1 <- lm(mpg ~ hp_z, data = mtcars)\nparameters(lm1)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter   | Coefficient|        SE|   CI|     CI_low|    CI_high|         t| df_error|     p|\n|:-----------|-----------:|---------:|----:|----------:|----------:|---------:|--------:|-----:|\n|(Intercept) |  20.0906250| 0.6828817| 0.95| 18.6959945| 21.4852555| 29.420359|       30| 0e+00|\n|hp_z        |  -0.0682283| 0.0101193| 0.95| -0.0888947| -0.0475619| -6.742388|       30| 2e-07|\n\n</div>\n:::\n:::\n\n\n\nJetzt können wir aus dem Achsenabschnitt (Intercept) herauslesen, dass ein Auto mit `hp_z = 0` - also mit mittlerer PS-Zahl - vielleicht gut 20 Meilen weit mit einer Gallone Sprit kommt.\n\nZur Verdeutlichung ein Diagramm zum Modell:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nestimate_relation(lm1) |> plot()\n```\n\n::: {.cell-output-display}\n![](adjustieren1a_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n\n\nAdjustieren Sie im Modell die PS-Zahl um die Art des Schaltgetriebes (`am`), so dass das neue Modell den statistischen Effekt (nicht notwendig auch kausal) der PS-Zahl bereinigt bzw. unabhängig von der Art des Schaltgetriebes widerspiegelt!\n\n*Geben Sie den Punktschätzer für den Effekt von `am` in diesem Modell an!*\n\nHinweise:\n\n- `am=0` ist ein Auto mit Automatikgetriebe.\n- Wir gehen davon aus, dass der Regressionseffekt gleich stark ist auf allen (beiden) Stufen von `am`. M.a.W.: Es liegt kein Interaktionseffekt vor.\n- Beachten Sie die üblichen Hinweise des Datenwerks.\n- Nutzen Sie `lm`, um das Modell zu berechnen.\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm2 <- lm(mpg ~ hp_z + am, data = mtcars)\nparameters(lm2)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter   | Coefficient|        SE|   CI|     CI_low|   CI_high|         t| df_error|        p|\n|:-----------|-----------:|---------:|----:|----------:|---------:|---------:|--------:|--------:|\n|(Intercept) |  17.9468091| 0.6758845| 0.95| 16.5644701| 19.329148| 26.553072|       29| 0.00e+00|\n|hp_z        |  -0.0588878| 0.0078567| 0.95| -0.0749567| -0.042819| -7.495191|       29| 0.00e+00|\n|am          |   5.2770853| 1.0795406| 0.95|  3.0691769|  7.484994|  4.888269|       29| 3.46e-05|\n\n</div>\n:::\n:::\n\n\n\n\n\nDie Spalte `Coefficient` gibt den mittleren geschätzten Wert für den jeweiligen Koeffizienten an,\nalso den Schätzwert zum Koeffizienten.\n\nDie Koeffizienten zeigen, dass der Achsenabschnitt für Autos mit Automatikgetriebe um etwa 5 Meilen geringer ist als für Autos mit manueller Schaltung: Ein durchschnittliches Auto mit manueller Schaltung kommt also etwa 5 Meilen weiter als ein Auto mit Automatikschaltung, glaubt unser Modell.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nestimate_relation(lm2) |> plot()\n```\n\n::: {.cell-output-display}\n![](adjustieren1a_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n`am` wird als numerische Variable erkannt.\nDas ist nicht sinnvoll, da `am` eher eine kategoriale Variable ist.\n\nDas können wir so ändern:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars <- \n  mtcars |> \n  mutate(am = factor(am))\n```\n:::\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm3 <- lm(mpg ~ hp_z + am, data = mtcars)\nparameters(lm3)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|Parameter   | Coefficient|        SE|   CI|     CI_low|   CI_high|         t| df_error|        p|\n|:-----------|-----------:|---------:|----:|----------:|---------:|---------:|--------:|--------:|\n|(Intercept) |  17.9468091| 0.6758845| 0.95| 16.5644701| 19.329148| 26.553072|       29| 0.00e+00|\n|hp_z        |  -0.0588878| 0.0078567| 0.95| -0.0749567| -0.042819| -7.495191|       29| 0.00e+00|\n|am1         |   5.2770853| 1.0795406| 0.95|  3.0691769|  7.484994|  4.888269|       29| 3.46e-05|\n\n</div>\n:::\n:::\n\n\n\nDie Koeffizienten bleiben gleich.\n\n\n\n::: {.cell}\n\n:::\n\n\n*Lösung:* 5.28.\n\n\nAber im Diagramm wird `am` jetzt als Faktor-Variable erkannt, was Sinn macht:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nestimate_relation(lm3) |> plot()\n```\n\n::: {.cell-output-display}\n![](adjustieren1a_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nMan könnte hier noch einen Interaktionseffekt ergänzen.\n\n\n\n---\n\nCategories: \n\n- regression\n- '2023'\n- string\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}