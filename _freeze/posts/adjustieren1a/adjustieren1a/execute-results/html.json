{
  "hash": "e08d247fc858ecd733445dc3ce66f195",
  "result": {
    "engine": "knitr",
    "markdown": "---\nextype: string\nexsolution: NA\nexname: adjustieren1a\nexpoints: 1\ncategories:\n- regression\n- '2023'\n- string\n- qm2\n- qm2-pruefung\n- mtcars\ndate: '2023-11-08'\nslug: adjustieren1a\ntitle: adjustieren1a\n\n---\n\n\n\n\n\n\n\n\n# Aufgabe\n\n\n\nBetrachten Sie folgendes Modell, das den Zusammenhang von PS-Zahl und Spritverbrauch untersucht (Datensatz `mtcars`).\n\n\nAber zuerst zentrieren wir den metrischen Prädiktor `hp`, um den Achsenabschnitt besser interpretieren zu können. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(easystats)\ndata(mtcars)\n\nmtcars <-\n  mtcars %>% \n  mutate(hp_z = hp - mean(hp))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlm1 <- lm(mpg ~ hp_z, data = mtcars)\nparameters(lm1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nParameter   | Coefficient |   SE |         95% CI | t(30) |      p\n------------------------------------------------------------------\n(Intercept) |       20.09 | 0.68 | [18.70, 21.49] | 29.42 | < .001\nhp z        |       -0.07 | 0.01 | [-0.09, -0.05] | -6.74 | < .001\n```\n\n\n:::\n:::\n\n\n\nJetzt können wir aus dem Achsenabschnitt (Intercept) herauslesen, dass ein Auto mit `hp_z = 0` - also mit mittlerer PS-Zahl - vielleicht gut 20 Meilen weit mit einer Gallone Sprit kommt.\n\nZur Verdeutlichung ein Diagramm zum Modell:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nestimate_relation(lm1) |> plot()\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-3-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n\n\n\nAdjustieren Sie im Modell die PS-Zahl um die Art des Schaltgetriebes (`am`), so dass das neue Modell den statistischen Effekt (nicht notwendig auch kausal) der PS-Zahl bereinigt bzw. unabhängig von der Art des Schaltgetriebes widerspiegelt!\n\n*Geben Sie den Punktschätzer für den Effekt von `am` in diesem Modell an!*\n\nHinweise:\n\n- `am=0` ist ein Auto mit Automatikgetriebe.\n- Wir gehen davon aus, dass der Regressionseffekt gleich stark ist auf allen (beiden) Stufen von `am`. M.a.W.: Es liegt kein Interaktionseffekt vor.\n- Beachten Sie die üblichen Hinweise des Datenwerks.\n- Nutzen Sie `lm`, um das Modell zu berechnen.\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm2 <- lm(mpg ~ hp_z + am, data = mtcars)\nparameters(lm2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nParameter   | Coefficient |       SE |         95% CI | t(29) |      p\n----------------------------------------------------------------------\n(Intercept) |       17.95 |     0.68 | [16.56, 19.33] | 26.55 | < .001\nhp z        |       -0.06 | 7.86e-03 | [-0.07, -0.04] | -7.50 | < .001\nam          |        5.28 |     1.08 | [ 3.07,  7.48] |  4.89 | < .001\n```\n\n\n:::\n:::\n\n\n\n\n\nDie Spalte `Coefficient` gibt den mittleren geschätzten Wert für den jeweiligen Koeffizienten an,\nalso den Schätzwert zum Koeffizienten.\n\nDie Koeffizienten zeigen, dass der Achsenabschnitt für Autos mit Automatikgetriebe um etwa 5 Meilen geringer ist als für Autos mit manueller Schaltung: Ein durchschnittliches Auto mit manueller Schaltung kommt also etwa 5 Meilen weiter als ein Auto mit Automatikschaltung, glaubt unser Modell.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nestimate_relation(lm2) |> plot()\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-5-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\n\n`am` wird als numerische Variable erkannt.\nDas ist nicht sinnvoll, da `am` eher eine kategoriale Variable ist.\n\nDas können wir so ändern:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars <- \n  mtcars |> \n  mutate(am = factor(am))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlm3 <- lm(mpg ~ hp_z + am, data = mtcars)\nparameters(lm3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nParameter   | Coefficient |       SE |         95% CI | t(29) |      p\n----------------------------------------------------------------------\n(Intercept) |       17.95 |     0.68 | [16.56, 19.33] | 26.55 | < .001\nhp z        |       -0.06 | 7.86e-03 | [-0.07, -0.04] | -7.50 | < .001\nam [1]      |        5.28 |     1.08 | [ 3.07,  7.48] |  4.89 | < .001\n```\n\n\n:::\n:::\n\n\n\nDie Koeffizienten bleiben gleich.\n\n\n\n::: {.cell}\n\n:::\n\n\n*Lösung:* 5.28.\n\n\nAber im Diagramm wird `am` jetzt als Faktor-Variable erkannt, was Sinn macht:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nestimate_relation(lm3) |> plot()\n```\n\n::: {.cell-output-display}\n![](unnamed-chunk-9-1.png){fig-pos='H' width=384}\n:::\n:::\n\n\nMan könnte hier noch einen Interaktionseffekt ergänzen.\n\n\n\n---\n\nCategories: \n\n- regression\n- '2023'\n- string\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}