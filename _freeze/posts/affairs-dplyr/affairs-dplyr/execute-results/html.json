{
  "hash": "d96aa57db3eba7c4ea24dde9f11c7d60",
  "result": {
    "engine": "knitr",
    "markdown": "---\nextype: string\nexsolution: NA\nexname: affairs-dplyr\nexpoints: 1\ncategories:\n- datawrangling\n- eda\n- string\ndate: '2023-03-27'\nslug: affairs-dplyr\ntitle: affairs-dplyr\n\n---\n\n\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\n\n\nLaden Sie den Datensatz `affairs`:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs_path <- \"https://vincentarelbundock.github.io/Rdatasets/csv/AER/Affairs.csv\"\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs <- read.csv(affairs_path)\n```\n:::\n\n\nLesen Sie das *Data Dictionnary* [hier](https://vincentarelbundock.github.io/Rdatasets/doc/AER/Affairs.html).\n\nWir definieren als \"Halodrie\" eine Person mit mindestens einer Affäre (laut Datensatz).\n\n\nBearbeiten Sie folgende Aufgaben:\n\n\n1. Filtern Sie mal nach Halodries!\n2. Sortieren Sie (absteigend) nach Anzahl der Affären!\n3. Wählen Sie die Spalten zu Anzahl der Affären, ob es Kinder in der Ehe gibt und die Zufriedenheit mit der Ehe. Dann sortieren Sie dann nach Anzahl der Kinder und *danach* nach der Anzahl der Affären.\n4. Berechnen Sie die mittlere Anzahl der Affären!\n5. Berechnen Sie die mittlere Anzahl der Affären pro Geschlecht und aufgeteilt auf Partnerschaften mit bzw. ohne Kinder.\n6. Geben Sie für jede Person die höhere der zwei Zahlen von Religiösität und Ehezufriedenheit aus!\n7. Berechnen Sie jeweils das Heiratsalter!\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n\nAd 1.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  filter(affairs > 0) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  rownames affairs gender age yearsmarried children religiousness education\n1        6       3   male  27          1.5       no             3        18\n2       12       3 female  27          4.0      yes             3        17\n  occupation rating\n1          4      4\n....\n```\n\n\n:::\n:::\n\n\nHinweis: `head(10)` begrenzt die Ausgabe auf 10 Zeilen, einfach um den Bildschirm nicht vollzumüllen.\n\n\n\nAd 2.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  arrange(-affairs) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  rownames affairs gender age yearsmarried children religiousness education\n1       53      12 female  32           10      yes             3        17\n2      122      12   male  37           15      yes             4        14\n  occupation rating\n1          5      2\n2          5      2\n [ reached 'max' / getOption(\"max.print\") -- omitted 8 rows ]\n```\n\n\n:::\n:::\n\n\n\nAd 3.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  select(affairs, rating, children) %>% \n  arrange(children, affairs) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  affairs rating children\n1       0      4       no\n2       0      4       no\n3       0      3       no\n4       0      5       no\n5       0      3       no\n6       0      5       no\n [ reached 'max' / getOption(\"max.print\") -- omitted 4 rows ]\n```\n\n\n:::\n:::\n\n\n\n\nAd 4.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  summarise(affairs_mean = mean(affairs)) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  affairs_mean\n1     1.455907\n```\n\n\n:::\n:::\n\n\n\nAd 5.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  group_by(gender, children) %>% \n  summarise(affairs_mean = mean(affairs)) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n# Groups:   gender [2]\n  gender children affairs_mean\n  <chr>  <chr>           <dbl>\n1 female no              0.838\n2 female yes             1.69 \n3 male   no              1.01 \n4 male   yes             1.66 \n```\n\n\n:::\n:::\n\n\n\nAd 6.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  rowwise() %>% \n  summarise(max(c(religiousness, rating))) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 1\n   `max(c(religiousness, rating))`\n                             <int>\n 1                               4\n 2                               4\n 3                               4\n 4                               5\n 5                               3\n 6                               5\n 7                               3\n....\n```\n\n\n:::\n:::\n\n\n\n\nAd 7.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  mutate(heiratsalter = age - yearsmarried) %>%\n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  rownames affairs gender age yearsmarried children religiousness education\n1        4       0   male  37           10       no             3        18\n  occupation rating heiratsalter\n1          7      4           27\n [ reached 'max' / getOption(\"max.print\") -- omitted 9 rows ]\n```\n\n\n:::\n:::\n\n\n\n\n\n---\n\nCategories: \n\n- datawrangling\n- eda\n- string\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}