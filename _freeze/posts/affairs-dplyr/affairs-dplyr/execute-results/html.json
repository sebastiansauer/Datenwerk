{
  "hash": "45d6be7271ed8e42d549b6df60def2e6",
  "result": {
    "markdown": "---\nextype: string\nexsolution: NA\nexname: affairs-dplyr\nexpoints: 1\ncategories:\n- datawrangling\n- eda\n- string\ndate: '2023-03-27'\nslug: affairs-dplyr\ntitle: affairs-dplyr\n\n---\n\n\n\n\n\n\n\n\n\n\n\n# Aufgabe\n\nLaden Sie den Datensatz `affairs`:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs_path <- \"https://vincentarelbundock.github.io/Rdatasets/csv/AER/Affairs.csv\"\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs <- read_csv(affairs_path)\n```\n:::\n\n\nLesen Sie das *Data Dictionnary* [hier](https://vincentarelbundock.github.io/Rdatasets/doc/AER/Affairs.html).\n\nWir definieren als \"Halodrie\" eine Person mit mindestens einer Affäre (laut Datensatz).\n\n\nBearbeiten Sie folgende Aufgaben:\n\n\n1. Filtern Sie mal nach Halodries!\n2. Sortieren Sie (absteigend) nach Anzahl der Affären!\n3. Wählen Sie die Spalten zu Anzahl der Affären, ob es Kinder in der Ehe gibt und die Zufriedenheit mit der Ehe. Dann sortieren Sie dann nach Anzahl der Kinder und *danach* nach der Anzahl der Affären.\n4. Berechnen Sie die mittlere Anzahl der Affären!\n5. Berechnen Sie die mittlere Anzahl der Affären pro Geschlecht und aufgeteilt auf Partnerschaften mit bzw. ohne Kinder.\n6. Geben Sie für jede Person die höhere der zwei Zahlen von Religiösität und Ehezufriedenheit aus!\n7. Berechnen Sie jeweils das Heiratsalter!\n\n\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# Lösung\n\nAd 1.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  filter(affairs > 0) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 10\n    ...1 affairs gender   age yearsmarr…¹ child…² relig…³ educa…⁴ occup…⁵ rating\n   <dbl>   <dbl> <chr>  <dbl>       <dbl> <chr>     <dbl>   <dbl>   <dbl>  <dbl>\n 1     6       3 male      27       1.5   no            3      18       4      4\n 2    12       3 female    27       4     yes           3      17       1      5\n....\n```\n:::\n:::\n\n\nHinweis: `head(10)` begrenzt die Ausgabe auf 10 Zeilen, einfach um den Bildschirm nicht vollzumüllen.\n\n\n\nAd 2.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  arrange(-affairs) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 10\n    ...1 affairs gender   age yearsmarr…¹ child…² relig…³ educa…⁴ occup…⁵ rating\n   <dbl>   <dbl> <chr>  <dbl>       <dbl> <chr>     <dbl>   <dbl>   <dbl>  <dbl>\n 1    53      12 female    32        10   yes           3      17       5      2\n 2   122      12 male      37        15   yes           4      14       5      2\n 3   174      12 female    42        15   yes           5       9       4      1\n 4   176      12 male      37        10   yes           2      20       6      2\n 5   181      12 female    32        15   yes           3      14       1      2\n 6   252      12 male      27         1.5 yes           3      17       5      4\n 7   253      12 female    27         7   yes           4      14       6      2\n....\n```\n:::\n:::\n\n\n\nAd 3.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  select(affairs, rating, children) %>% \n  arrange(children, affairs) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n   affairs rating children\n     <dbl>  <dbl> <chr>   \n 1       0      4 no      \n 2       0      4 no      \n 3       0      3 no      \n 4       0      5 no      \n 5       0      3 no      \n 6       0      5 no      \n 7       0      4 no      \n....\n```\n:::\n:::\n\n\n\n\nAd 4.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  summarise(affairs_mean = mean(affairs)) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  affairs_mean\n         <dbl>\n1         1.46\n```\n:::\n:::\n\n\n\nAd 5.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  group_by(gender, children) %>% \n  summarise(affairs_mean = mean(affairs)) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 3\n# Groups:   gender [2]\n  gender children affairs_mean\n  <chr>  <chr>           <dbl>\n1 female no              0.838\n2 female yes             1.69 \n3 male   no              1.01 \n4 male   yes             1.66 \n```\n:::\n:::\n\n\n\nAd 6.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  group_by(...1) %>% \n  summarise(max(c(religiousness, rating))) %>% \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 2\n    ...1 `max(c(religiousness, rating))`\n   <dbl>                           <dbl>\n 1     4                               4\n 2     5                               4\n 3     6                               4\n 4    11                               4\n 5    12                               5\n 6    16                               5\n 7    23                               3\n....\n```\n:::\n:::\n\n\n\n\nAd 7.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffairs %>% \n  mutate(heiratsalter = age - yearsmarried) %>%\n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 11\n    ...1 affairs gender   age yearsmarr…¹ child…² relig…³ educa…⁴ occup…⁵ rating\n   <dbl>   <dbl> <chr>  <dbl>       <dbl> <chr>     <dbl>   <dbl>   <dbl>  <dbl>\n 1     4       0 male      37       10    no            3      18       7      4\n 2     5       0 female    27        4    no            4      14       6      4\n 3    11       0 female    32       15    yes           1      12       1      4\n 4    16       0 male      57       15    yes           5      18       6      5\n 5    23       0 male      22        0.75 no            2      17       6      3\n 6    29       0 female    32        1.5  no            2      17       5      5\n 7    44       0 female    22        0.75 no            2      12       1      3\n....\n```\n:::\n:::\n\n\n\n\n\n---\n\nCategories: \n\n- datawrangling\n- eda\n- string\n\n",
    "supporting": [
      "affairs-dplyr_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}